{"version":3,"sources":["components/menu/menu.module.scss","sprites/yellow-chicken-1.png","sprites/food1.png","components/farm/farm.module.scss","components/info/info.module.scss","sprites/brown-chicken-1.png","sprites/brown-chicken-2.png","sprites/brown-chicken-3.png","sprites/orange-chicken-1.png","sprites/orange-chicken-2.png","sprites/orange-chicken-3.png","sprites/yellow-chicken-2.png","sprites/yellow-chicken-3.png","sprites/food2.png","sprites/food3.png","sprites/hen-house.png","sprites/water.png","components/StaticCanvas/staticCanvas.module.scss","components/dynamicCanvas/dynamicCanvas.module.scss","utils/chicken.ts","utils/loadImages.ts","utils/idGenerator.ts","types/types.ts","utils/localStorage.ts","utils/staticObject.ts","utils/drawImages.ts","components/farm/actions.ts","components/farm/reducer.ts","utils/food.ts","components/StaticCanvas/StaticCanvas.tsx","components/info/Info.tsx","components/menu/Menu.tsx","components/dynamicCanvas/DynamicCanvas.tsx","utils/distance.ts","components/farm/Farm.tsx","utils/useWindowDimensions.ts","serviceWorker.js","index.js"],"names":["module","exports","ChickenState","loadMultipleImages","urls","Promise","all","map","url","resolve","img","Image","src","onload","onerror","loadImage","then","imgs","filter","Boolean","generateId","Math","random","toString","substr","setTurnsFromSec","sec","RESTING_TURNS","HUNGER_THROTTLE","ChickenBreed","StorageKeys","Chicken","width","height","breed","top","left","hungerMeter","imgIndex","currentImg","frames","state","walking","restingTurns","food","hasRequestedFood","removeFood","requestFood","id","this","round","naturalHeight","naturalWidth","ctx","hasFood","hasReachedFood","updateState","eating","eat","walkingToFood","walkToFood","shouldRest","resting","rest","walkRandomly","updateFoodMeter","draw","reachedFood","hasFinished","stopEating","undefined","min","isHungry","searchForFood","drawImage","dx","dy","goToCoordinates","walk","isAvailable","clearFood","max","startEating","length","abs","StaticObject","storageKeysToDefaultMap","chickens","getStorageKey","key","value","window","localStorage","getItem","Error","JSON","parse","FarmActions","getFoodImgs","a","food1","food2","food3","getObjects","henHouse","waterHole","images","positions","i","getChickens","brownChicken1","brownChicken2","brownChicken3","orangeChicken1","orangeChicken2","orangeChicken3","yellowChicken1","yellowChicken2","yellowChicken3","brown","orange","yellow","imagesBreedMap","savedChickens","Object","keys","props","toggleFeedingAction","type","toggleFeeding","initialFarmState","objects","isFeeding","isDragging","isInfoOpen","farmReducer","action","setChickens","payload","addFood","setObjects","toggleDragging","toggleInfo","MAX_FOOD","Food","foodMeter","animalsEating","getImg","includes","push","indexOf","splice","StaticCanvas","resizedWidth","resizedHeight","canvasRef","useRef","useEffect","current","getContext","imageSmoothingEnabled","clearRect","forEach","object","update","drawStaticObjects","ref","className","styles","canvas","Info","isOpen","useState","setTime","setInterval","Date","now","clearInterval","info","title","sort","b","getHungerMeter","chicken","getBreed","renderChickensHunger","Menu","dispatch","cx","menu","visible","toolBar","farmButton","active","onClick","e","stopPropagation","chickenUrl","alt","foodUrl","DynamicCanvas","dropFood","animationIdRef","frameCount","cancelAnimationFrame","loop","requestAnimationFrame","drawDynamicObjects","onMouseDown","onMouseUp","onMouseMove","getDistance","sqrt","addFoodItem","throttle","leading","trailing","saveChickensToStorage","savedChickenStates","getSavingState","setItem","stringify","console","error","setStorageKey","Farm","memo","resizeBy","innerWidth","innerHeight","setDimensions","handleResize","debounce","addEventListener","removeEventListener","useWindowDimensions","useReducer","foodImgs","setFoodImgs","addFoodAction","removeFoodAction","coord","allAvailableFood","item","closestItem","items","closest","Infinity","distance","getClosest","setFoodMethods","useCallback","persist","clientX","clientY","stopFeedingOnEsc","code","document","setObjectsAction","setChickensAction","wrapper","feeding","bg","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.68ffebda.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"menu_menu__2vPAR\",\"visible\":\"menu_visible__3jm2d\",\"toolBar\":\"menu_toolBar__jeKpg\",\"farmButton\":\"menu_farmButton__3Te1g\",\"active\":\"menu_active__21Ixu\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA2UlEQVQ4T2NkwAIstWT+H7/2hBGbHLIYhgKQxqQP7xjmCQgxEDIARTNM4x0pcYZD337TSTPI1m29kQwMijoQb92/wuBVvByv7XBngzWva2XwCqoG64Wx8fkbrBmssYkHYqNOJTxAQQYha0aPBQybUaIH6nSYGLprEDava4X7Fezv+1cgfFgYIJkKcxFCMzSwQBIgG0AAg42kBuQdVM0gDcXL4ZpRDEDyAiwcUP2MZDLcnyAxqPPRAxAjhYHjGgvAFudY0zY4npt4GLzqvsBpbPGNNefA4p2QZgCIpZgQUlRE4QAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAYUlEQVQ4T2NkoBAwUqifYQgYwMbG8R/kzV+/fmB1LV4vgDRPu2rNYCWuyGAgsgSrIQTDgCIXEBNDGC4gZCO6oSgG4PMzLoOJcgE+gwkGIszJRLuAmIBDVkO0C3AZPPAGAAD7jC0R4as9ogAAAABJRU5ErkJgggAA\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"farm_wrapper__3IXTL\",\"bg\":\"farm_bg__3rsuD\",\"feeding\":\"farm_feeding__3K0PI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"info_info__rQiOK\",\"title\":\"info_title__vsvEd\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAPhJREFUKBWNkTEOAVEQhofQiF6CSkMUW9M4wB5D7RTO4BjqPYCGWiGRiIoWlUax9pvsbOZtXsIkm52Z9////G+eyB8xnw7zGKwZa/oexOXrITGBn2SELv2exAT+InsnPm/4op5jddFpS5KM9Oh4vMru/ZH96aa8n5Mhbg5n/UzEhgTk2FIArmZj/dL0Ltm6Wy2vZSoQARVRPQuWfWTZQB2YbfXuiB4r3JHALrnZ5hoIBLYBcGDBcoxATpggudoubahds4pIeQ1wGp5II3gqs28gmwYQIfr+qQIyIARsOrUPT/T9IEfguZ3k/k8egIoiWFj90Nf2PL73BVmidJM6U/0/AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA2UlEQVQ4T2NkoAAwEqPXUkvm//FrTzDUEtQM0pj04R3DPAEhBnQDiNJsx8XKoPLsJYYBtNMMcjLIVj09JXDQXLp0j+HQt99w5+O1GaQ5x0KdYcqJm2DNMDbM7yia0UMVphkWI15eT8FMr7ovYNvhmtFtASlCdjLMAJArUGxGtwGmEORHEAD5GcSG+R1mANhmmGZYgID8BgIgRehs5EBDcTayU5E1wgwCeQMEYCGOEWAwBTBFMC+AXEAwqkBeAGnY1sQDDlUYDTMEOYlixDNIM0wDSCE6HzkjAQALWZgQQhdf+AAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAxklEQVQ4T2NkoAAwUqCXgSjNlloy/49fe4KhlqBmkMakD+8Y5gkIMaAbQJRmOy5WBpVnLzEMoJ1mkJNBturpKYHD9dKlewyHvv2GOx/FZvSAAfFzLNQZppy4CdYMY8P8DteMrhCmGDkqvbyegrledV/AtoM1wzSixznImSAAcjaIDaJBrkCxGaYZ5ieQ80AApBAXG24zzHYQDQsgZI3IBiEHGkaAgWyCORcUsjAAE8cZ2jAXgGzHBpA1guSxJhJQGGDTjJ48Ae0WhxAxBBGoAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA/0lEQVQ4T2NkIAJYasn8P37tCSO6UgwBdAUgjUkf3jHMExBiQDeAKM12XKwMKs9eYhhAO80gJ28T+MDAoK8M8c3FuwxeHwTgzsdrM1izvTCD18G3YL0wNszvKJrRQxWmGR6Izj/BTK+6L2Db4ZpBCt9Z+TAIHdsCV4viZKgoyBUoNsM0okfTiWtLIEIgP1+8C6dh/gbbDNP88fZFBsXXjxlALgi4sJPh0LffYH+CnXrwLQPIJZqsumA1GM4GKbovKsvAr6oPdj5MIyyUQXIggKEZ2QUgNswVMK+AXAMTwxra2AxADgeYjTAxrPEMjqImHnCUwGiQBqLSNjbN2HIVALxhoxCi5+fxAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAARRJREFUKBW1UbGOQUEUPSs220hWyEYiFKKxm4jaNgqd+Aq9n/AtSqW8TqFBq6FAFHSCt6WKOZeZ3PcyCc3eZN67c2bOuefeAf476j+Fq69GwgdqjMROeIJP4CmZQut8Dj6Bl8jaic7f9Cae02qQDoFa+X4036AVpjFd7IX3vLIhtsZHWU7kUSVC9g2F94JGVhaaFwS9lBte8iEiwOm3jTqG7lnEMrL2CjD6EAfWtnhnRRLjMVv07xB7Nv2KbdV3xPbfao7MZOg0OBzbp+SG+P1ededimzZoN2Pg7VcRn+ZPEfaqQxOJR56K9km2UTrsbAq2RWfEbM8R2wR5yLXsnoXI6TLoRBMFjH9Y/TyoXO2zxff6/g0TmXObC3ZmMAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA40lEQVQ4T2NkoAAwUqCXAatmSy2Z/8evPSFoMIYCkMakD+8Y5gkIMRAyAEUzTOMdKXGGQ99+00kzyNZtAh8YGPSVIWF48S6D1wcBvLbDnQ3WbC/M4HXwLVgvjI3sb/SABGsGa2zigdi4lx0l9mCGgQTfWfkwCB3bAncNhs0g54KdDqIZGBgstGIwkgLMALjNIFNPsB4HOxvkZBAAsUHiIADScF9UloFfVR9uO1wzsgRMM7IBH29fZFB8/RhsECwcUJyNbADMrSAxEEC2ESaHkUhgitE9CrIVPcVhTZ7YMgu2pAoAZ9iDEPlbDrYAAAAASUVORK5CYIIA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA3ElEQVQ4T2NkoAAwYtNrqSXz//i1J1jlkNVjKABpTPrwjmGegBADIQNQNMM03pESZzj07TedNINs3dYbycCgqAPx1v0rDF7Fy/HaDnc2WPO6VgavoGqwXhgbn7/BmsEam3ggNupUwgMUZBCyZvRYwLAZJeqgToeJobsGYfO6Vrhfwf6+fwXCh4UBkqkwFyE0QwMLJAGyAQQw2EhqQN5B1QzSULwcrhnFACQvwMIB1c9IJsP9CRKDAvSow0hhcE1NPAxedV8YQLEAokEAPdqwpm2YBpBiWDSCDEDXDAAJCpUQ3ocHKgAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAxElEQVQ4T2NkoAAwUqCXAatmSy2Z/8evPSFoMIYCkMakD+8Y5gkIMRAyAEUzTOMdKXGGQ99+00kzyNZtvZEMDIo6kDC8f4XBq3g5XtvhzgZrXtfK4BVUDdYLYyP7Gz0gwZrBGpt4IDbqVKLEHswwbAZi2AxyLtjpIBoEYN5AMhJkIMhFCJvXtYKlQRIgJ2NlQ8MEUzOSBEwzigHQAASJwcIB1dlIBsBcCY4BqPNhNsLkMBIJXDFaoscWbViTJ7bMgi2pAgArfH8QF4tK0wAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAc0lEQVQ4T2NkoBAwUqifAcUANjaO/yADf/36QbTBcIUgzdOuWjNYiSsyGIgswWoINguIdgEuC4h2KshrBF2AHKDEhgdWFxATHjDLcHqBIhdgSxu4DCQqEPF5iaRoxJbISEpI2LxGtAtw5RmiwgBfhqPYAACig0sRfRXPlAAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiElEQVQ4T2NkQANsbBz/QUK/fv1gRJfDxkdRBNI87ao1g5W4IoOByBKiDMGwhRgXIKshypnITkd3JdwAbDbjcg2GC7D5ndjwIMkF2FxEVBjANGKLIawGINuE7hX0NII1GtFtwhe1BF1AKDUSFQYwQ4gKRHxxTzAQcaUHWMCR7AJiEhPBMCCUuQCBBIskpUxGvgAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAANCAYAAADISGwcAAABCUlEQVQ4T2NkQANsbBz/0cWoyf/16wcjsnkoHJDlusaW1LQPw6zLZ48zIDsC7gCY5eLSimBNyoraVHXI3ftXwea9fHqfAdkRYAcgWw5S8PC3MoOIRgJVHcB9txZsHsiDyI5gJMbyGHsFhiUHHzCAaGQAEwPRMICuFlnuzY0FDPKsdxmsbHwYjh3ZAg4JuANgBoB8DwPUCgWQxTAAcgByKMAdEBGVx7Bi2SSqBjsuw2B2oYQAKFjk5JTo4oBHj+5hjwKQI+gBQPEPAuAQQM4F9LAcZgcsK2LNhiBJEAAVSjA2uY5DNgPExsiGMINh2RG5kACJ/UIrOkl1CLIZ2OzAKIoptZCQA9E9BQB8PqttWv0ktAAAAABJRU5ErkJgggAA\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas\":\"staticCanvas_canvas__YAp_u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas\":\"dynamicCanvas_canvas__3o8Eh\"};","import { ChickenBreed, Coordinates } from \"../types/types\";\nimport { Food } from \"./food\";\nimport { generateId } from \"./idGenerator\";\n\nconst MOVEMENT_PX = 2;\n// @todo test this\nconst FPS = 4;\nconst HUNGER_MIN = 30;\n\nconst setTurnsFromSec = (sec: number) => sec * FPS;\n\nconst RESTING_TURNS = setTurnsFromSec(10);\nconst RESTING_PROBABILITY = 20 / FPS;\nconst HUNGER_THROTTLE = setTurnsFromSec((2 * 60 * 60)/100); // every 1 min 12 sec hunger will increase\n\nexport interface ChickenProps {\n  imgs: HTMLImageElement[];\n  width: number;\n  height: number;\n  breed: ChickenBreed;\n  top?: number;\n  left?: number;\n  hungerMeter?: number;\n}\n\nenum ChickenState {\n  eating,\n  walkingToFood,\n  walking,\n  resting,\n}\n\nexport class Chicken {\n  private imgs: HTMLImageElement[];\n  private width: number;\n  private height: number;\n  private imgIndex = 0;\n  private top: number;\n  private left: number;\n  private currentImg: HTMLImageElement;\n  private frames = 0;\n  private breed: ChickenBreed;\n  private state = ChickenState.walking;\n  private restingTurns = 0;\n  private food: Food | undefined;\n  private hungerMeter: number;\n  private hasRequestedFood = false;\n  private removeFood: ((id: string) => void) | undefined;\n  private requestFood: ((props: Coordinates) => Food | undefined) | undefined;\n  public id = generateId();\n\n  constructor({ imgs, width, height, breed, top, left, hungerMeter }: ChickenProps) {\n    this.imgs = imgs;\n    this.width = width;\n    this.height = height;\n    this.currentImg = this.imgs[this.imgIndex];\n    this.top = top || Math.round(Math.random() * (this.height - this.imgs[0].naturalHeight));\n    this.left = left || Math.round(Math.random() * (this.width - this.imgs[0].naturalWidth));\n    this.breed = breed;\n    this.hungerMeter = hungerMeter || 0;\n  }\n\n  public update(ctx: CanvasRenderingContext2D) {\n    if(this.hasFood()) {\n      if(this.hasReachedFood()) {\n        this.updateState(ChickenState.eating);\n        this.eat();\n      } else {\n        this.updateState(ChickenState.walkingToFood);\n        this.walkToFood();\n      }\n    } else if(this.shouldRest()) {\n      this.updateState(ChickenState.resting);\n      this.rest()\n    } else {\n      this.updateState(ChickenState.walking);\n      this.walkRandomly();\n    }\n\n    this.frames++\n    if(this.state !== ChickenState.eating) {\n      this.updateFoodMeter();\n    }\n    this.draw(ctx);\n  }\n\n  public getBreed() {\n    return this.breed;\n  }\n\n  public getHungerMeter() {\n    return this.hungerMeter;\n  }\n\n  public setFoodMethods(\n    removeFood: (id: string) => void,\n    requestFood: (props: Coordinates) => Food | undefined,\n  ) {\n    this.removeFood = removeFood;\n    this.requestFood = requestFood;\n  }\n\n  public getSavingState() {\n    return {\n      left: this.left,\n      top: this.top,\n      breed: this.breed,\n      hungerMeter: this.hungerMeter,\n    }\n  }\n\n  private hasFood() {\n    return !!this.food;\n  }\n\n  private isHungry() {\n    return this.hungerMeter > HUNGER_MIN;\n  }\n\n  private searchForFood() {\n    if(!this.requestFood) {\n      return;\n    }\n    this.food = this.requestFood({ left: this.left, top: this.top });\n    if(this.food) {\n      this.hasRequestedFood = true;\n    }\n  }\n\n  private clearFood(reachedFood = true) {\n    this.hasRequestedFood = false;\n    if(!this.food || !this.removeFood) {\n      return;\n    }\n    if(this.food.hasFinished()) {\n      this.removeFood(this.food.id);\n    } else if(reachedFood) {\n      this.food.stopEating(this.id);\n    }\n    this.food = undefined;\n  }\n\n  private updateFoodMeter() {\n    if((this.frames / HUNGER_THROTTLE) % 1 === 0) {\n      this.hungerMeter = Math.min(this.hungerMeter + 1, 100);\n    }\n    if(this.isHungry() && !this.hasRequestedFood) {\n      this.searchForFood();\n    }\n  }\n\n  private draw(ctx: CanvasRenderingContext2D) {\n    ctx.drawImage(\n      this.currentImg,\n      0,\n      0,\n      this.currentImg.naturalWidth,\n      this.currentImg.naturalHeight,\n      this.left,\n      this.top,\n      this.currentImg.naturalWidth,\n      this.currentImg.naturalHeight\n    );\n  }\n\n  private walkRandomly() {\n    const dx = Math.round(Math.random() * 1);\n    const dy = Math.round(Math.random() * 1);\n\n    this.goToCoordinates(dx, dy);\n    this.walk();\n  }\n\n  private walkToFood() {\n    if(!this.food || !this.food.isAvailable() || this.food.hasFinished()) {\n      this.clearFood(false);\n      this.walkRandomly();\n      return;\n    }\n    const dx = this.food.left - this.left;\n    const dy = this.food.top - this.top;\n\n    this.goToCoordinates(dx, dy);\n    this.walk();\n  }\n\n  private goToCoordinates(dx: number, dy: number) {\n    this.top = dy > 0\n      ? Math.min(this.top + MOVEMENT_PX, this.height - this.currentImg.naturalHeight)\n      : Math.max(this.top - MOVEMENT_PX, 0)\n    ;\n\n    this.left = dx > 0\n      ? Math.min(this.left + MOVEMENT_PX, this.width - this.currentImg.naturalWidth)\n      : Math.max(this.left - MOVEMENT_PX, 0)\n    ;\n  }\n\n  private updateState(state: ChickenState) {\n    this.state = state;\n  }\n\n  private eat() {\n    if(!this.food) {\n      return;\n    }\n    this.food.startEating(this.id);\n    this.hungerMeter = Math.max(this.hungerMeter - 1, 0);\n    this.food.updateFoodMeter();\n    if(!this.hungerMeter || this.food.hasFinished()) {\n      this.clearFood();\n    }\n  }\n\n  private walk() {\n    this.currentImg = this.imgs[this.imgIndex];\n    this.imgIndex = this.imgIndex + 1 >= this.imgs.length - 1 ? 0 : this.imgIndex + 1;\n  }\n\n  private rest() {\n    this.currentImg = this.imgs[this.imgs.length - 1];\n    this.restingTurns = this.restingTurns\n      ? Math.max(this.restingTurns - 1, 0)\n      : RESTING_TURNS;\n  }\n\n  private shouldRest() {\n    return this.restingTurns || (!this.restingTurns && (Math.random() * 100) < RESTING_PROBABILITY);\n  }\n\n  private hasReachedFood() {\n    if(!this.food) {\n      return false;\n    }\n    const dx = this.food.left - this.left;\n    const dy = this.food.top - this.top;\n    return Math.abs(dx) <= 2 && Math.abs(dy) <= 2;\n  }\n}\n","export const loadImage = (url: string): Promise<HTMLImageElement|undefined> => {\n  return new Promise((resolve) => {\n    const img = new Image();\n    img.src = url;\n    img.onload = () => resolve(img);\n    img.onerror = () => resolve();\n  });\n};\n\nexport const loadMultipleImages = (urls: string[]): Promise<HTMLImageElement[]> => {\n  return Promise.all(\n    urls.map(url => loadImage(url))\n  ).then(imgs => imgs.filter(Boolean)) as Promise<HTMLImageElement[]>;\n}\n","export const generateId = () => Math.random().toString(36).substr(2, 9);\n","import { Chicken } from \"../utils/chicken\";\nimport { StaticObject } from \"../utils/staticObject\";\nimport { Food } from \"../utils/food\";\n\nexport interface Coordinates {\n  left: number;\n  top: number;\n}\n\nexport interface StaticItems {\n  objects: StaticObject[];\n  food: Food[];\n}\n\nexport interface DynItems {\n  chickens: Chicken[];\n}\n\nexport type FarmItems = StaticItems & DynItems;\n\nexport enum ChickenBreed {\n  brown = \"brown\",\n  orange = \"orange\",\n  yellow = \"yellow\",\n}\n","import { ChickenProps } from \"./chicken\";\n\nexport enum StorageKeys {\n  chickens = \"chickens\",\n}\n\ninterface StorageKeysType {\n  [StorageKeys.chickens]: Pick<ChickenProps, \"breed\"|\"top\"|\"left\"|\"hungerMeter\">[] | null;\n}\n\nconst storageKeysToDefaultMap: { [key in StorageKeys]: StorageKeysType[key] } = {\n  [StorageKeys.chickens]: null,\n};\n\nexport const getStorageKey = (key: StorageKeys): StorageKeysType[StorageKeys] => {\n  try {\n    const value = window.localStorage.getItem(key);\n    if (value === null) {\n      throw Error;\n    }\n    return JSON.parse(value);\n  } catch {\n    return storageKeysToDefaultMap[key];\n  }\n};\n\nexport const setStorageKey = (key: StorageKeys, value: StorageKeysType[StorageKeys]) => {\n  try {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  } catch {\n    console.error(\"Not possible to set item\", key, \"in local storage\");\n  }\n};\n\nexport const clearStorageKey = (key: StorageKeys) => {\n  window.localStorage.removeItem(key);\n};\n","import { generateId } from \"./idGenerator\";\nimport { Coordinates } from \"../types/types\";\n\ninterface StaticObjectProps extends Coordinates {\n  img: HTMLImageElement;\n}\n\nexport class StaticObject {\n  img: HTMLImageElement;\n  top: number;\n  left: number;\n  public id = generateId();\n\n  constructor({ img, top, left }: StaticObjectProps) {\n    this.img = img;\n    this.top = top;\n    this.left = left;\n  }\n\n  public update(ctx: CanvasRenderingContext2D) {\n    this.draw(ctx);\n  }\n\n  private draw(ctx: CanvasRenderingContext2D) {\n    ctx.drawImage(\n      this.img,\n      0,\n      0,\n      this.img.naturalWidth,\n      this.img.naturalHeight,\n      this.left,\n      this.top,\n      this.img.naturalWidth,\n      this.img.naturalHeight\n    );\n  }\n}\n","import brownChicken1 from \"../sprites/brown-chicken-1.png\";\nimport brownChicken2 from \"../sprites/brown-chicken-2.png\";\nimport brownChicken3 from \"../sprites/brown-chicken-3.png\";\nimport orangeChicken1 from \"../sprites/orange-chicken-1.png\";\nimport orangeChicken2 from \"../sprites/orange-chicken-2.png\";\nimport orangeChicken3 from \"../sprites/orange-chicken-3.png\";\nimport yellowChicken1 from \"../sprites/yellow-chicken-1.png\";\nimport yellowChicken2 from \"../sprites/yellow-chicken-2.png\";\nimport yellowChicken3 from \"../sprites/yellow-chicken-3.png\";\nimport food1 from \"../sprites/food1.png\";\nimport food2 from \"../sprites/food2.png\";\nimport food3 from \"../sprites/food3.png\";\nimport { loadMultipleImages } from \"./loadImages\";\nimport henHouse from \"../sprites/hen-house.png\";\nimport waterHole from \"../sprites/water.png\";\nimport { Chicken } from \"./chicken\";\nimport { StaticObject } from \"./staticObject\";\nimport { StaticItems, DynItems, ChickenBreed, Coordinates } from \"../types/types\";\nimport { getStorageKey, StorageKeys } from \"./localStorage\";\n\nconst FRAME_THROTTLE = 15;\n\ninterface DrawProps {\n  canvasRef: React.RefObject<HTMLCanvasElement>,\n  resizedWidth: number,\n  resizedHeight: number,\n}\n\ntype DrawStaticObjectsProps = StaticItems & DrawProps;\ntype DrawDynamicObjectsProps = DynItems & DrawProps & { animationIdRef: React.MutableRefObject<number> };\n\nexport const getFoodImgs = async () => {\n  return await loadMultipleImages([\n    food1,\n    food2,\n    food3,\n  ]);\n}\n\nexport const getObjects = async () => {\n  const images = await loadMultipleImages([\n    henHouse,\n    waterHole,\n  ]);\n  const positions: Coordinates[] = [\n    { top: 100, left: 100 },\n    { top: 120, left: 170 },\n  ]\n  return images.map((img, i) => {\n    return new StaticObject({\n      img,\n      top: positions[i].top,\n      left: positions[i].left,\n    })\n  })\n}\n\nexport const getChickens = async (width: number, height: number) => {\n  const images = await Promise.all([\n    loadMultipleImages([brownChicken1, brownChicken2, brownChicken3]),\n    loadMultipleImages([orangeChicken1, orangeChicken2, orangeChicken3]),\n    loadMultipleImages([yellowChicken1, yellowChicken2, yellowChicken3]),\n  ]);\n  const imagesBreedMap = {\n    [ChickenBreed.brown]: images[0],\n    [ChickenBreed.orange]: images[1],\n    [ChickenBreed.yellow]: images[2],\n  }\n  const savedChickens = getStorageKey(StorageKeys.chickens);\n  if(!savedChickens) {\n    return Object.keys(ChickenBreed).map(breed => new Chicken({\n      width,\n      height,\n      imgs: imagesBreedMap[breed as ChickenBreed],\n      breed: breed as ChickenBreed,\n    }))\n  }\n\n  return savedChickens.map(props => new Chicken({\n    width,\n    height,\n    imgs: imagesBreedMap[props.breed],\n    ...props,\n  }));\n}\n\nexport const drawStaticObjects = ({\n  canvasRef,\n  objects,\n  food,\n  resizedWidth,\n  resizedHeight,\n}: DrawStaticObjectsProps) => {\n  if(!canvasRef.current) {\n    return;\n  }\n  const ctx = canvasRef.current.getContext('2d');\n  if(!ctx) {\n    return;\n  }\n\n  ctx.imageSmoothingEnabled = false;\n  ctx.clearRect(0, 0, resizedWidth, resizedHeight);\n\n  objects.forEach(object => object.update(ctx));\n  food.forEach(food => food.update(ctx));\n}\n\nexport const drawDynamicObjects = ({\n  canvasRef,\n  resizedWidth,\n  resizedHeight,\n  chickens,\n  animationIdRef,\n}: DrawDynamicObjectsProps) => {\n  if(!canvasRef.current) {\n    return;\n  }\n  const ctx = canvasRef.current.getContext('2d');\n  if(!ctx) {\n    return;\n  }\n\n  let frameCount = 0;\n  ctx.imageSmoothingEnabled = false;\n  window.cancelAnimationFrame(animationIdRef.current);\n  const loop = () => {\n    window.cancelAnimationFrame(animationIdRef.current);\n    frameCount++;\n\n    if(frameCount < FRAME_THROTTLE) {\n      animationIdRef.current = window.requestAnimationFrame(loop);\n      return;\n    }\n    frameCount = 0;\n    ctx.clearRect(0, 0, resizedWidth, resizedHeight);\n\n    chickens.forEach(chicken => {\n      chicken.update(ctx);\n    });\n\n    animationIdRef.current = window.requestAnimationFrame(loop)\n  }\n\n  loop();\n};\n","import { StaticObject } from \"../../utils/staticObject\";\nimport { Chicken } from \"../../utils/chicken\";\nimport { Food } from \"../../utils/food\";\n\nexport enum FarmActions {\n  setObjects,\n  addFood,\n  removeFood,\n  setChickens,\n  toggleFeeding,\n  toggleDragging,\n  toggleInfo,\n}\n\ninterface ActionType<T> {\n  type: T;\n}\n\ninterface ActionWithPayloadType<T, P> extends ActionType<T> {\n  payload: P;\n}\n\nexport type SetObjectsAction = ActionWithPayloadType<FarmActions.setObjects, { objects: StaticObject[] }>;\nexport type AddFoodAction = ActionWithPayloadType<FarmActions.addFood, { food: Food }>;\nexport type RemoveFoodAction = ActionWithPayloadType<FarmActions.removeFood, { id: string }>;\nexport type SetChickensAction = ActionWithPayloadType<FarmActions.setChickens, { chickens: Chicken[] }>;\nexport type ToggleFeedingAction = ActionType<FarmActions.toggleFeeding>;\nexport type ToggleDraggingAction = ActionType<FarmActions.toggleDragging>;\nexport type ToggleInfoAction = ActionType<FarmActions.toggleInfo>;\n\nexport const setObjectsAction = (objects: StaticObject[]): SetObjectsAction => ({\n  type: FarmActions.setObjects,\n  payload: { objects },\n});\n\nexport const addFoodAction = (food: Food): AddFoodAction => ({\n  type: FarmActions.addFood,\n  payload: { food },\n});\n\nexport const removeFoodAction = (id: string): RemoveFoodAction => ({\n  type: FarmActions.removeFood,\n  payload: { id },\n});\n\nexport const setChickensAction = (chickens: Chicken[]): SetChickensAction => ({\n  type: FarmActions.setChickens,\n  payload: { chickens },\n});\n\nexport const toggleFeedingAction = (): ToggleFeedingAction => ({\n  type: FarmActions.toggleFeeding,\n});\n\nexport const toggleDraggingAction = (): ToggleDraggingAction => ({\n  type: FarmActions.toggleDragging,\n});\n\nexport const toggleInfoAction = (): ToggleInfoAction => ({\n  type: FarmActions.toggleInfo,\n});\n","import React from \"react\";\nimport { FarmItems } from \"../../types/types\";\nimport {\n  SetObjectsAction,\n  AddFoodAction,\n  SetChickensAction,\n  ToggleFeedingAction,\n  ToggleDraggingAction,\n  FarmActions,\n  RemoveFoodAction,\n  ToggleInfoAction,\n} from \"./actions\";\n\nexport type AllFarmActions = (\n  SetObjectsAction\n  | AddFoodAction\n  | RemoveFoodAction\n  | SetChickensAction\n  | ToggleFeedingAction\n  | ToggleDraggingAction\n  | ToggleInfoAction\n);\n\ninterface FarmState extends FarmItems {\n  isFeeding: boolean;\n  isDragging: boolean;\n  isInfoOpen: boolean;\n}\n\nexport const initialFarmState: FarmState = {\n  objects: [],\n  food: [],\n  chickens: [],\n  isFeeding: false,\n  isDragging: false,\n  isInfoOpen: false,\n};\n\ntype FarmReducerType = React.Reducer<FarmState, AllFarmActions>;\n\nexport const farmReducer: FarmReducerType = (state, action) => {\n  switch (action.type) {\n    case FarmActions.setChickens:\n      return {\n        ...state,\n        chickens: action.payload.chickens,\n      }\n    case FarmActions.addFood:\n      return {\n        ...state,\n        food: [\n          ...state.food,\n          action.payload.food,\n        ],\n      }\n    case FarmActions.removeFood:\n      return {\n        ...state,\n        food: state.food.filter(({ id }) => id !== action.payload.id),\n      }\n    case FarmActions.setObjects:\n      return {\n        ...state,\n        objects: action.payload.objects,\n      }\n    case FarmActions.toggleDragging:\n      return {\n        ...state,\n        isDragging: !state.isDragging,\n      }\n    case FarmActions.toggleFeeding:\n      return {\n        ...state,\n        isFeeding: !state.isFeeding,\n      }\n    case FarmActions.toggleInfo:\n      return {\n        ...state,\n        isInfoOpen: !state.isInfoOpen,\n      }\n    default:\n      return state;\n  }\n};\n","import { generateId } from \"./idGenerator\";\nimport { Coordinates } from \"../types/types\";\n\nconst MAX_EATERS = 3;\nconst MAX_FOOD = 30;\n\nexport interface FoodProps extends Coordinates{\n  imgs: HTMLImageElement[];\n}\n\nexport class Food {\n  private imgs: HTMLImageElement[];\n  private foodMeter = MAX_FOOD;\n  private animalsEating: string[] = [];\n  public top: number;\n  public left: number;\n  public id = generateId();\n\n  constructor({ imgs, top, left }: FoodProps) {\n    this.imgs = imgs;\n    this.top = top;\n    this.left = left;\n  }\n\n  public update(ctx: CanvasRenderingContext2D) {\n    this.draw(ctx, this.getImg());\n  }\n\n  public updateFoodMeter() {\n    this.foodMeter = Math.max(this.foodMeter - 1, 0);\n  }\n\n  public hasFinished() {\n    return !this.foodMeter;\n  }\n\n  public isAvailable() {\n    return this.animalsEating.length <= MAX_EATERS;\n  }\n\n  public startEating(id: string) {\n    if(!this.animalsEating.includes(id)) {\n      this.animalsEating.push(id);\n    }\n  }\n\n  public stopEating(id: string) {\n    const i = this.animalsEating.indexOf(id);\n    if(i !== -1) {\n      this.animalsEating.splice(i, 1);\n    }\n  }\n\n  private getImg() {\n    if(this.foodMeter <= 10) {\n      return this.imgs[0];\n    }\n\n    if(this.foodMeter <= 20) {\n      return this.imgs[1];\n    }\n\n    return this.imgs[2];\n  }\n\n  private draw(ctx: CanvasRenderingContext2D, img: HTMLImageElement) {\n    ctx.drawImage(\n      img,\n      0,\n      0,\n      img.naturalWidth,\n      img.naturalHeight,\n      this.left,\n      this.top,\n      img.naturalWidth,\n      img.naturalHeight\n    );\n  }\n}","import React, { useRef, useEffect } from \"react\";\nimport styles from \"./staticCanvas.module.scss\";\nimport { drawStaticObjects } from \"../../utils/drawImages\";\nimport { Food } from \"../../utils/food\";\nimport { StaticObject } from \"../../utils/staticObject\";\n\ninterface StaticCanvasProps {\n  food: Food[];\n  resizedWidth: number;\n  resizedHeight: number;\n  objects: StaticObject[];\n}\n\nexport const StaticCanvas: React.FC<StaticCanvasProps> = ({\n  resizedWidth,\n  resizedHeight,\n  objects,\n  food,\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    drawStaticObjects({\n      canvasRef,\n      resizedWidth,\n      resizedHeight,\n      objects,\n      food,\n    })\n  }, [resizedWidth, resizedHeight, objects, food])\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width={resizedWidth}\n      height={resizedHeight}\n      className={styles.canvas}\n    ></canvas>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./info.module.scss\";\nimport { Chicken } from \"../../utils/chicken\";\n\ninterface InfoProps {\n  chickens: Chicken[];\n  isOpen: boolean;\n}\n\nconst renderChickensHunger = (chickens: Chicken[]) => {\n  return chickens\n    .sort((a, b) => b.getHungerMeter() - a.getHungerMeter())\n    .map((chicken, i) => (\n      <p key={i}>{chicken.getBreed()} chicken: {chicken.getHungerMeter()}</p>\n    ))\n}\n\nexport const Info: React.FC<InfoProps> = ({ chickens, isOpen }) => {\n  const [, setTime] = useState(0);\n\n  useEffect(() => {\n    let id = 0;\n    if(isOpen) {\n      id = window.setInterval(() => setTime(Date.now()), 1000);\n    }\n    return () => window.clearInterval(id);\n  }, [isOpen]);\n\n  return (\n    <div className={styles.info}>\n      <h3 className={styles.title}>Hunger</h3>\n      {renderChickensHunger(chickens)}\n    </div>\n  );\n}","import React from \"react\";\nimport cx from \"classnames\";\nimport styles from \"./menu.module.scss\";\nimport foodUrl from \"../../sprites/food1.png\";\nimport chickenUrl from \"../../sprites/yellow-chicken-1.png\";\nimport { Info } from \"../info/Info\";\nimport { Chicken } from \"../../utils/chicken\";\nimport {\n  toggleFeedingAction,\n  toggleInfoAction,\n} from \"../farm/actions\";\nimport { AllFarmActions } from \"../farm/reducer\";\n\ninterface MenuProps {\n  isInfoOpen: boolean;\n  isFeeding: boolean;\n  chickens: Chicken[];\n  dispatch: React.Dispatch<AllFarmActions>;\n}\n\nexport const Menu: React.FC<MenuProps> = ({\n  isInfoOpen,\n  isFeeding,\n  chickens,\n  dispatch,\n}) => {\n  const toggleInfo = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.stopPropagation();\n    dispatch(toggleInfoAction());\n  }\n\n  const toggleFeeding = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.stopPropagation();\n    dispatch(toggleFeedingAction());\n  }\n\n  return (\n    <div className={cx(styles.menu, isInfoOpen && styles.visible)}>\n      <div className={styles.toolBar}>\n        <button className={cx(styles.farmButton, isInfoOpen && styles.active)} onClick={toggleInfo}>\n          <img src={chickenUrl} alt=\"info\"></img>\n        </button>\n        <button className={cx(styles.farmButton, isFeeding && styles.active)} onClick={toggleFeeding}>\n          <img src={foodUrl} alt=\"food\"></img>\n        </button>\n      </div>\n      <Info chickens={chickens} isOpen={isInfoOpen}/>\n    </div>\n  );\n};\n","import React, { useRef, useEffect } from \"react\";\nimport styles from \"./dynamicCanvas.module.scss\";\nimport { drawDynamicObjects } from \"../../utils/drawImages\";\nimport { Chicken } from \"../../utils/chicken\";\n\ninterface DynamicCanvasProps {\n  resizedWidth: number;\n  resizedHeight: number;\n  chickens: Chicken[];\n  toggleDragging: () => void;\n  dropFood: (e: React.MouseEvent<HTMLCanvasElement>) => void;\n}\n\nexport const DynamicCanvas: React.FC<DynamicCanvasProps> = ({\n  resizedWidth,\n  resizedHeight,\n  chickens,\n  toggleDragging,\n  dropFood,\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const animationIdRef = useRef(0);\n\n  useEffect(() => {\n    drawDynamicObjects({\n      canvasRef,\n      resizedWidth,\n      resizedHeight,\n      animationIdRef,\n      chickens,\n    })\n  }, [resizedWidth, resizedHeight, animationIdRef, chickens]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width={resizedWidth}\n      height={resizedHeight}\n      className={styles.canvas}\n      onMouseDown={toggleDragging}\n      onMouseUp={(e) => {\n        dropFood(e);\n        toggleDragging();\n      }}\n      onMouseMove={dropFood}\n    ></canvas>\n  );\n};\n","import { Coordinates } from \"../types/types\";\n\ninterface GetClosestOptions<I> extends Coordinates {\n  items: I[];\n}\n\nexport const getDistance = (a: Coordinates, b: Coordinates) => {\n  return Math.sqrt(\n    Math.abs(a.left - b.left) ** 2\n    + Math.abs(a.top - b.top) ** 2\n  );\n}\n\nexport const getClosest = <I extends Coordinates>({\n  items,\n  left,\n  top,\n}: GetClosestOptions<I>) => {\n  let closest = Infinity;\n  let closestItem: I | undefined;\n\n  items.forEach(item => {\n    const distance = getDistance({ left, top }, item);\n\n    if (distance < closest) {\n      closest = distance;\n      closestItem = item;\n    }\n  });\n\n  return closestItem;\n};\n","import React, { useEffect, memo, useState, useCallback, useReducer } from \"react\";\nimport throttle from \"lodash.throttle\";\nimport cx from \"classnames\";\nimport styles from \"./farm.module.scss\";\nimport { useWindowDimensions } from \"../../utils/useWindowDimensions\";\nimport { getObjects, getChickens, getFoodImgs } from \"../../utils/drawImages\";\nimport { Chicken } from \"../../utils/chicken\";\nimport { Coordinates } from \"../../types/types\";\nimport { farmReducer, initialFarmState } from \"./reducer\";\nimport {\n  setObjectsAction,\n  setChickensAction,\n  toggleFeedingAction,\n  toggleDraggingAction,\n  addFoodAction,\n  removeFoodAction,\n} from \"./actions\";\nimport { setStorageKey, StorageKeys } from \"../../utils/localStorage\";\nimport { Food, FoodProps } from \"../../utils/food\";\nimport { StaticCanvas } from \"../StaticCanvas/StaticCanvas\";\nimport { Menu } from \"../menu/Menu\";\nimport { DynamicCanvas } from \"../dynamicCanvas/DynamicCanvas\";\nimport { getClosest, getDistance } from \"../../utils/distance\";\n\nconst RESIZE_BY = 2;\nconst MAX_FOOD_DISTANCE = 300 / RESIZE_BY; // in px\n\ninterface AddFoodItemOptions extends FoodProps {\n  addFood: (food: Food) => void;\n}\n\nconst addFoodItem = throttle((\n  { imgs, left, top, addFood }: AddFoodItemOptions,\n) => {\n  const food = new Food({\n    imgs,\n    top: Math.round(top / RESIZE_BY),\n    left: Math.round(left / RESIZE_BY),\n  });\n  addFood(food);\n}, 100, { leading: true, trailing: false });\n\nconst saveChickensToStorage = (chickens: Chicken[]) => {\n  if(!chickens.length) {\n    return;\n  }\n  const savedChickenStates = chickens.map(chicken => chicken.getSavingState());\n  setStorageKey(StorageKeys.chickens, savedChickenStates);\n}\n\nexport const Farm: React.FC = memo(() => {\n  const { resizedWidth, resizedHeight } = useWindowDimensions(RESIZE_BY);\n  const [\n    {\n      isDragging,\n      isFeeding,\n      isInfoOpen,\n      objects,\n      chickens,\n      food,\n    },\n    dispatch,\n  ] = useReducer(farmReducer, initialFarmState);\n  const [foodImgs, setFoodImgs] = useState<HTMLImageElement[]>([]);\n\n  const addFood = (food: Food) => dispatch(addFoodAction(food));\n  const removeFood = (id: string) => dispatch(removeFoodAction(id));\n  const requestFood = (coord: Coordinates) => {\n    const allAvailableFood = food.filter(item => (\n      item.isAvailable()\n      && getDistance(coord, item) < MAX_FOOD_DISTANCE\n    ));\n    if(!allAvailableFood.length) {\n      return undefined;\n    }\n    return getClosest({\n      items: allAvailableFood,\n      ...coord,\n    });\n  };\n  chickens.forEach(chicken => {\n    chicken.setFoodMethods(removeFood, requestFood);\n  })\n\n  const dropFood = useCallback((e) => {\n    e.persist();\n    if (!isFeeding || !foodImgs.length || !isDragging) {\n      return;\n    }\n\n    addFoodItem({\n      left: e.clientX,\n      top: e.clientY,\n      imgs: foodImgs,\n      addFood,\n    });\n  }, [isFeeding, foodImgs, isDragging]);\n\n  useEffect(() => {\n    const stopFeedingOnEsc = (e: KeyboardEvent) => {\n      if (e.code === \"Escape\" && isFeeding) {\n        dispatch(toggleFeedingAction());\n      }\n    };\n    document.addEventListener(\"keydown\", stopFeedingOnEsc);\n\n    return () => {\n      document.removeEventListener(\"keydown\", stopFeedingOnEsc);\n    };\n  }, [isFeeding]);\n\n  useEffect(() => {\n    Promise.all([\n      getObjects(),\n      getChickens(resizedWidth, resizedHeight),\n      getFoodImgs(),\n    ]).then(([objects, chickens, foodImgs]) => {\n      dispatch(setObjectsAction(objects));\n      dispatch(setChickensAction(chickens));\n      setFoodImgs(foodImgs);\n    });\n  }, [resizedWidth, resizedHeight]);\n\n  useEffect(() => {\n    const id = setInterval(() => saveChickensToStorage(chickens), 5000);\n    return () => {\n      saveChickensToStorage(chickens);\n      clearInterval(id);\n    };\n  }, [chickens])\n\n  return (\n    <div className={cx(styles.wrapper, isFeeding && styles.feeding)}>\n      <div className={styles.bg}/>\n      <StaticCanvas\n        resizedWidth={resizedWidth}\n        resizedHeight={resizedHeight}\n        objects={objects}\n        food={food}\n      />\n      <DynamicCanvas\n        resizedWidth={resizedWidth}\n        resizedHeight={resizedHeight}\n        chickens={chickens}\n        toggleDragging={() => dispatch(toggleDraggingAction())}\n        dropFood={dropFood}\n      />\n      <Menu\n        isInfoOpen={isInfoOpen}\n        isFeeding={isFeeding}\n        chickens={chickens}\n        dispatch={dispatch}\n      />\n    </div>\n  );\n});\n","import { useState, useEffect } from \"react\";\nimport debounce from \"lodash.debounce\";\n\nexport const useWindowDimensions = (resizeBy = 1) => {\n  const [{ width, height }, setDimensions] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n  \n  useEffect(() => {\n    const handleResize = debounce(() => {\n      setDimensions({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    }, 500, { trailing: true, leading: false });\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n  \n  return {\n    resizedWidth: width / resizeBy,\n    resizedHeight: height / resizeBy,\n  };\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport { Farm } from \"./components/farm/Farm\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<Farm />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}