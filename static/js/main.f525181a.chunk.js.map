{"version":3,"sources":["components/menu/menu.module.scss","sprites/yellow-chicken-1.png","sprites/food1.png","components/farm/farm.module.scss","components/info/info.module.scss","sprites/brown-chicken-1.png","sprites/brown-chicken-2.png","sprites/brown-chicken-3.png","sprites/orange-chicken-1.png","sprites/orange-chicken-2.png","sprites/orange-chicken-3.png","sprites/yellow-chicken-2.png","sprites/yellow-chicken-3.png","sprites/food2.png","sprites/food3.png","sprites/hen-house.png","sprites/water.png","components/StaticCanvas/staticCanvas.module.scss","components/dynamicCanvas/dynamicCanvas.module.scss","models/chicken.ts","utils/loadImages.ts","utils/idGenerator.ts","types/types.ts","utils/localStorage.ts","models/staticObject.ts","models/food.ts","utils/drawImages.ts","components/farm/actions.ts","components/farm/reducer.ts","components/StaticCanvas/StaticCanvas.tsx","components/info/Info.tsx","components/menu/Menu.tsx","components/dynamicCanvas/DynamicCanvas.tsx","utils/distance.ts","components/farm/Farm.tsx","utils/useWindowDimensions.ts","serviceWorker.js","index.js"],"names":["module","exports","ChickenState","loadMultipleImages","urls","Promise","all","map","url","resolve","img","Image","src","onload","onerror","loadImage","then","imgs","filter","Boolean","generateId","Math","random","toString","substr","ChickenBreed","StorageKeys","Chicken","id","width","height","prevWidth","prevHeight","breed","top","left","hungerMeter","widthChangeRatio","heightChangeRatio","imgIndex","currentImg","state","walking","restingTurns","food","lastHungerIncrease","hasRequestedFood","removeFood","requestFood","timestamp","fps","this","round","naturalHeight","naturalWidth","ctx","updateFoodMeter","hasFood","hasReachedFood","updateState","eating","eat","walkingToFood","walkToFood","shouldRest","resting","rest","walkRandomly","draw","reachedFood","hasFinished","stopEating","undefined","HUNGER_THRESHOLD","min","isHungry","searchForFood","drawImage","dx","dy","goToCoordinates","walk","distance","getFoodDistance","isAvailable","clearFood","max","startEating","length","sec","abs","StaticObject","storageKeysToDefaultMap","chickens","getStorageKey","key","value","window","localStorage","getItem","Error","JSON","parse","MAX_FOOD","Food","foodMeter","animalsEating","originalTop","originalLeft","getImg","includes","push","i","indexOf","splice","FarmActions","getFoodImgs","a","food1","food2","food3","getObjects","henHouse","waterHole","images","positions","housePos","getChickens","brownChicken1","brownChicken2","brownChicken3","orangeChicken1","orangeChicken2","orangeChicken3","yellowChicken1","yellowChicken2","yellowChicken3","brown","orange","yellow","imagesBreedMap","savedChickens","Object","keys","props","toggleFeedingAction","type","toggleFeeding","initialFarmState","objects","isFeeding","isDragging","isInfoOpen","farmReducer","action","setChickens","payload","setFood","addFood","setObjects","toggleDragging","toggleInfo","StaticCanvas","resizedWidth","resizedHeight","canvasRef","useRef","useEffect","current","getContext","imageSmoothingEnabled","clearRect","forEach","object","update","drawStaticObjects","ref","className","styles","canvas","Info","isOpen","useState","setTime","setInterval","Date","now","clearInterval","info","title","sort","b","getHungerMeter","chicken","getBreed","renderChickensHunger","Menu","dispatch","cx","menu","visible","toolBar","farmButton","active","onClick","e","stopPropagation","chickenUrl","alt","foodUrl","DynamicCanvas","dropFood","animationIdRef","onDragFinished","useCallback","frameCount","cancelAnimationFrame","loop","requestAnimationFrame","performance","drawDynamicObjects","onTouchStart","onTouchEnd","onTouchMove","onMouseDown","onMouseUp","onMouseMove","getDistance","sqrt","setGameItems","setFoodImgs","foodImgs","savedFood","getFood","throtteFoodDrop","throttle","leading","trailing","getClosestFood","coord","allAvailableFood","item","closestItem","items","closest","Infinity","getClosest","saveItemsToStorage","storageKey","storage","getSavingState","setItem","stringify","console","error","setStorageKey","saveItemsOnInterval","isTouchEvent","Farm","memo","resizeBy","innerWidth","innerHeight","setDimensions","handleResize","debounce","addEventListener","removeEventListener","useWindowDimensions","useReducer","addFoodAction","setFoodAction","removeFoodAction","handleFoodDrop","persist","touches","clientX","clientY","preventDefault","toggleFoodDragging","setFoodMethods","initChickens","stopFeedingOnEsc","code","document","disableFeedingOnEsc","setObjectsAction","setChickensAction","wrapper","feeding","bg","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f525181a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"menu_menu__2vPAR\",\"visible\":\"menu_visible__3jm2d\",\"toolBar\":\"menu_toolBar__jeKpg\",\"farmButton\":\"menu_farmButton__3Te1g\",\"active\":\"menu_active__21Ixu\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA2UlEQVQ4T2NkwAIstWT+H7/2hBGbHLIYhgKQxqQP7xjmCQgxEDIARTNM4x0pcYZD337TSTPI1m29kQwMijoQb92/wuBVvByv7XBngzWva2XwCqoG64Wx8fkbrBmssYkHYqNOJTxAQQYha0aPBQybUaIH6nSYGLprEDava4X7Fezv+1cgfFgYIJkKcxFCMzSwQBIgG0AAg42kBuQdVM0gDcXL4ZpRDEDyAiwcUP2MZDLcnyAxqPPRAxAjhYHjGgvAFudY0zY4npt4GLzqvsBpbPGNNefA4p2QZgCIpZgQUlRE4QAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAYUlEQVQ4T2NkoBAwUqifYQgYwMbG8R/kzV+/fmB1LV4vgDRPu2rNYCWuyGAgsgSrIQTDgCIXEBNDGC4gZCO6oSgG4PMzLoOJcgE+gwkGIszJRLuAmIBDVkO0C3AZPPAGAAD7jC0R4as9ogAAAABJRU5ErkJgggAA\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"farm_wrapper__3IXTL\",\"bg\":\"farm_bg__3rsuD\",\"feeding\":\"farm_feeding__3K0PI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"info_info__rQiOK\",\"title\":\"info_title__vsvEd\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAPhJREFUKBWNkTEOAVEQhofQiF6CSkMUW9M4wB5D7RTO4BjqPYCGWiGRiIoWlUax9pvsbOZtXsIkm52Z9////G+eyB8xnw7zGKwZa/oexOXrITGBn2SELv2exAT+InsnPm/4op5jddFpS5KM9Oh4vMru/ZH96aa8n5Mhbg5n/UzEhgTk2FIArmZj/dL0Ltm6Wy2vZSoQARVRPQuWfWTZQB2YbfXuiB4r3JHALrnZ5hoIBLYBcGDBcoxATpggudoubahds4pIeQ1wGp5II3gqs28gmwYQIfr+qQIyIARsOrUPT/T9IEfguZ3k/k8egIoiWFj90Nf2PL73BVmidJM6U/0/AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA2UlEQVQ4T2NkoAAwEqPXUkvm//FrTzDUEtQM0pj04R3DPAEhBnQDiNJsx8XKoPLsJYYBtNMMcjLIVj09JXDQXLp0j+HQt99w5+O1GaQ5x0KdYcqJm2DNMDbM7yia0UMVphkWI15eT8FMr7ovYNvhmtFtASlCdjLMAJArUGxGtwGmEORHEAD5GcSG+R1mANhmmGZYgID8BgIgRehs5EBDcTayU5E1wgwCeQMEYCGOEWAwBTBFMC+AXEAwqkBeAGnY1sQDDlUYDTMEOYlixDNIM0wDSCE6HzkjAQALWZgQQhdf+AAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAxklEQVQ4T2NkoAAwUqCXgSjNlloy/49fe4KhlqBmkMakD+8Y5gkIMaAbQJRmOy5WBpVnLzEMoJ1mkJNBturpKYHD9dKlewyHvv2GOx/FZvSAAfFzLNQZppy4CdYMY8P8DteMrhCmGDkqvbyegrledV/AtoM1wzSixznImSAAcjaIDaJBrkCxGaYZ5ieQ80AApBAXG24zzHYQDQsgZI3IBiEHGkaAgWyCORcUsjAAE8cZ2jAXgGzHBpA1guSxJhJQGGDTjJ48Ae0WhxAxBBGoAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA/0lEQVQ4T2NkIAJYasn8P37tCSO6UgwBdAUgjUkf3jHMExBiQDeAKM12XKwMKs9eYhhAO80gJ28T+MDAoK8M8c3FuwxeHwTgzsdrM1izvTCD18G3YL0wNszvKJrRQxWmGR6Izj/BTK+6L2Db4ZpBCt9Z+TAIHdsCV4viZKgoyBUoNsM0okfTiWtLIEIgP1+8C6dh/gbbDNP88fZFBsXXjxlALgi4sJPh0LffYH+CnXrwLQPIJZqsumA1GM4GKbovKsvAr6oPdj5MIyyUQXIggKEZ2QUgNswVMK+AXAMTwxra2AxADgeYjTAxrPEMjqImHnCUwGiQBqLSNjbN2HIVALxhoxCi5+fxAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAARRJREFUKBW1UbGOQUEUPSs220hWyEYiFKKxm4jaNgqd+Aq9n/AtSqW8TqFBq6FAFHSCt6WKOZeZ3PcyCc3eZN67c2bOuefeAf476j+Fq69GwgdqjMROeIJP4CmZQut8Dj6Bl8jaic7f9Cae02qQDoFa+X4036AVpjFd7IX3vLIhtsZHWU7kUSVC9g2F94JGVhaaFwS9lBte8iEiwOm3jTqG7lnEMrL2CjD6EAfWtnhnRRLjMVv07xB7Nv2KbdV3xPbfao7MZOg0OBzbp+SG+P1ededimzZoN2Pg7VcRn+ZPEfaqQxOJR56K9km2UTrsbAq2RWfEbM8R2wR5yLXsnoXI6TLoRBMFjH9Y/TyoXO2zxff6/g0TmXObC3ZmMAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA40lEQVQ4T2NkoAAwUqCXAatmSy2Z/8evPSFoMIYCkMakD+8Y5gkIMRAyAEUzTOMdKXGGQ99+00kzyNZtAh8YGPSVIWF48S6D1wcBvLbDnQ3WbC/M4HXwLVgvjI3sb/SABGsGa2zigdi4lx0l9mCGgQTfWfkwCB3bAncNhs0g54KdDqIZGBgstGIwkgLMALjNIFNPsB4HOxvkZBAAsUHiIADScF9UloFfVR9uO1wzsgRMM7IBH29fZFB8/RhsECwcUJyNbADMrSAxEEC2ESaHkUhgitE9CrIVPcVhTZ7YMgu2pAoAZ9iDEPlbDrYAAAAASUVORK5CYIIA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA3ElEQVQ4T2NkoAAwYtNrqSXz//i1J1jlkNVjKABpTPrwjmGegBADIQNQNMM03pESZzj07TedNINs3dYbycCgqAPx1v0rDF7Fy/HaDnc2WPO6VgavoGqwXhgbn7/BmsEam3ggNupUwgMUZBCyZvRYwLAZJeqgToeJobsGYfO6Vrhfwf6+fwXCh4UBkqkwFyE0QwMLJAGyAQQw2EhqQN5B1QzSULwcrhnFACQvwMIB1c9IJsP9CRKDAvSow0hhcE1NPAxedV8YQLEAokEAPdqwpm2YBpBiWDSCDEDXDAAJCpUQ3ocHKgAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAxElEQVQ4T2NkoAAwUqCXAatmSy2Z/8evPSFoMIYCkMakD+8Y5gkIMRAyAEUzTOMdKXGGQ99+00kzyNZtvZEMDIo6kDC8f4XBq3g5XtvhzgZrXtfK4BVUDdYLYyP7Gz0gwZrBGpt4IDbqVKLEHswwbAZi2AxyLtjpIBoEYN5AMhJkIMhFCJvXtYKlQRIgJ2NlQ8MEUzOSBEwzigHQAASJwcIB1dlIBsBcCY4BqPNhNsLkMBIJXDFaoscWbViTJ7bMgi2pAgArfH8QF4tK0wAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAc0lEQVQ4T2NkoBAwUqifAcUANjaO/yADf/36QbTBcIUgzdOuWjNYiSsyGIgswWoINguIdgEuC4h2KshrBF2AHKDEhgdWFxATHjDLcHqBIhdgSxu4DCQqEPF5iaRoxJbISEpI2LxGtAtw5RmiwgBfhqPYAACig0sRfRXPlAAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiElEQVQ4T2NkQANsbBz/QUK/fv1gRJfDxkdRBNI87ao1g5W4IoOByBKiDMGwhRgXIKshypnITkd3JdwAbDbjcg2GC7D5ndjwIMkF2FxEVBjANGKLIawGINuE7hX0NII1GtFtwhe1BF1AKDUSFQYwQ4gKRHxxTzAQcaUHWMCR7AJiEhPBMCCUuQCBBIskpUxGvgAAAABJRU5ErkJgggAA\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAANCAYAAADISGwcAAABCUlEQVQ4T2NkQANsbBz/0cWoyf/16wcjsnkoHJDlusaW1LQPw6zLZ48zIDsC7gCY5eLSimBNyoraVHXI3ftXwea9fHqfAdkRYAcgWw5S8PC3MoOIRgJVHcB9txZsHsiDyI5gJMbyGHsFhiUHHzCAaGQAEwPRMICuFlnuzY0FDPKsdxmsbHwYjh3ZAg4JuANgBoB8DwPUCgWQxTAAcgByKMAdEBGVx7Bi2SSqBjsuw2B2oYQAKFjk5JTo4oBHj+5hjwKQI+gBQPEPAuAQQM4F9LAcZgcsK2LNhiBJEAAVSjA2uY5DNgPExsiGMINh2RG5kACJ/UIrOkl1CLIZ2OzAKIoptZCQA9E9BQB8PqttWv0ktAAAAABJRU5ErkJgggAA\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas\":\"staticCanvas_canvas__YAp_u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvas\":\"dynamicCanvas_canvas__3o8Eh\"};","import { ChickenBreed, Coordinates } from \"../types/types\";\nimport { Food } from \"../models/food\";\nimport { generateId } from \"../utils/idGenerator\";\n\nconst MOVEMENT_PX = 2;\nconst HUNGER_MIN = 30;\n\nconst RESTING_TURNS_PER_SEC = 10;\nconst RESTING_PROBABILITY_PER_SEC = 20;\nconst HUNGER_THRESHOLD = process.env.NODE_ENV === \"development\" ? 2 : 60; // every 1 min hunger will increase\n\nconst setTurnsFromSec = (sec: number, fps: number) => Math.round(sec * fps);\nconst getProbabilityFromSec = (sec: number, fps: number) => Math.round(sec / fps);\n\nexport interface ChickenProps {\n  imgs: HTMLImageElement[];\n  width: number;\n  height: number;\n  prevWidth?: number;\n  prevHeight?: number;\n  id?: string;\n  breed: ChickenBreed;\n  top?: number;\n  left?: number;\n  hungerMeter?: number;\n}\n\nexport type SavedChickenState = Pick<ChickenProps, \"breed\"|\"id\"|\"top\"|\"left\"|\"hungerMeter\"|\"prevHeight\"|\"prevWidth\">;\n\nenum ChickenState {\n  eating,\n  walkingToFood,\n  walking,\n  resting,\n}\n\nexport class Chicken {\n  private imgs: HTMLImageElement[];\n  private width: number;\n  private height: number;\n  private prevWidth: number;\n  private prevHeight: number;\n  private widthChangeRatio: number;\n  private heightChangeRatio: number;\n  private imgIndex = 0;\n  private top: number;\n  private left: number;\n  private currentImg: HTMLImageElement;\n  private breed: ChickenBreed;\n  private state = ChickenState.walking;\n  private restingTurns = 0;\n  private food: Food | undefined;\n  private hungerMeter: number;\n  private lastHungerIncrease = 0;\n  private hasRequestedFood = false;\n  private removeFood: ((id: string) => void) | undefined;\n  private requestFood: ((props: Coordinates) => Food | undefined) | undefined;\n  private timestamp = 0;\n  private fps = 0;\n  public id: string;\n\n  constructor({ imgs, id, width, height, prevWidth, prevHeight, breed, top, left, hungerMeter }: ChickenProps) {\n    this.imgs = imgs;\n    this.currentImg = this.imgs[this.imgIndex];\n    this.width = width;\n    this.height = height;\n    this.prevWidth = prevWidth || this.width;\n    this.prevHeight = prevHeight || this.height;\n    this.heightChangeRatio = height / this.prevHeight;\n    this.widthChangeRatio = width / this.prevWidth;\n    this.top = top || Math.round(Math.random() * (this.height - this.imgs[0].naturalHeight))\n    this.left = left || Math.round(Math.random() * (this.width - this.imgs[0].naturalWidth))\n    this.breed = breed;\n    this.hungerMeter = hungerMeter || 0;\n    this.id = id || generateId();\n  }\n\n  public update(ctx: CanvasRenderingContext2D, timestamp: number) {\n    this.fps = 1000 / (timestamp - this.timestamp)\n    this.timestamp = timestamp;\n    this.updateFoodMeter();\n\n    if(this.hasFood()) {\n      if(this.hasReachedFood()) {\n        this.updateState(ChickenState.eating);\n        this.eat();\n      } else {\n        this.updateState(ChickenState.walkingToFood);\n        this.walkToFood();\n      }\n    } else if(this.shouldRest()) {\n      this.updateState(ChickenState.resting);\n      this.rest()\n    } else {\n      this.updateState(ChickenState.walking);\n      this.walkRandomly();\n    }\n\n    this.draw(ctx);\n  }\n\n  public getBreed() {\n    return this.breed;\n  }\n\n  public getHungerMeter() {\n    return this.hungerMeter;\n  }\n\n  public setFoodMethods(\n    removeFood: (id: string) => void,\n    requestFood: (props: Coordinates) => Food | undefined,\n  ) {\n    this.removeFood = removeFood;\n    this.requestFood = requestFood;\n  }\n\n  public getSavingState() {\n    return {\n      left: this.left,\n      top: this.top,\n      breed: this.breed,\n      hungerMeter: this.hungerMeter,\n      prevHeight: this.prevHeight,\n      prevWidth: this.prevWidth,\n      id: this.id,\n    }\n  }\n\n  private hasFood() {\n    return !!this.food;\n  }\n\n  private isHungry() {\n    return this.hungerMeter > HUNGER_MIN;\n  }\n\n  private searchForFood() {\n    if(!this.requestFood) {\n      return;\n    }\n    this.food = this.requestFood({ left: this.left, top: this.top });\n    if(this.food) {\n      this.hasRequestedFood = true;\n    }\n  }\n\n  private clearFood(reachedFood = true) {\n    this.hasRequestedFood = false;\n    if(!this.food || !this.removeFood) {\n      return;\n    }\n    if(this.food.hasFinished()) {\n      this.removeFood(this.food.id);\n    } else if(reachedFood) {\n      this.food.stopEating(this.id);\n    }\n    this.food = undefined;\n  }\n\n  private updateFoodMeter() {\n    if(this.state === ChickenState.eating) {\n      this.lastHungerIncrease = 0;\n      return;\n    }\n\n    if(this.timestamp - this.lastHungerIncrease >= HUNGER_THRESHOLD * 1000) {\n      this.hungerMeter = Math.min(this.hungerMeter + 1, 100);\n      this.lastHungerIncrease = this.timestamp;\n    }\n\n    if(this.isHungry() && !this.hasRequestedFood) {\n      this.searchForFood();\n    }\n  }\n\n  private draw(ctx: CanvasRenderingContext2D) {\n    ctx.drawImage(\n      this.currentImg,\n      0,\n      0,\n      this.currentImg.naturalWidth,\n      this.currentImg.naturalHeight,\n      (this.left * this.widthChangeRatio),\n      (this.top * this.heightChangeRatio),\n      this.currentImg.naturalWidth,\n      this.currentImg.naturalHeight\n    );\n  }\n\n  private walkRandomly() {\n    const dx = Math.round(Math.random() * 1);\n    const dy = Math.round(Math.random() * 1);\n\n    this.goToCoordinates(dx, dy);\n    this.walk();\n  }\n\n  private getFoodDistance() {\n    if(!this.food) {\n      return;\n    }\n\n    return {\n      dx: this.food.left - (this.left * this.widthChangeRatio),\n      dy: this.food.top - (this.top * this.heightChangeRatio),\n    }\n  }\n\n  private walkToFood() {\n    const distance = this.getFoodDistance();\n    if(!this.food || !this.food.isAvailable() || this.food.hasFinished() || !distance) {\n      this.clearFood(false);\n      this.walkRandomly();\n      return;\n    }\n\n    this.goToCoordinates(distance.dx, distance.dy);\n    this.walk();\n  }\n\n  private goToCoordinates(dx: number, dy: number) {\n    this.top = dy > 0\n      ? Math.min(this.top + MOVEMENT_PX, this.height - this.currentImg.naturalHeight)\n      : Math.max(this.top - MOVEMENT_PX, 0)\n    ;\n\n    this.left = dx > 0\n      ? Math.min(this.left + MOVEMENT_PX, this.width - this.currentImg.naturalWidth)\n      : Math.max(this.left - MOVEMENT_PX, 0)\n    ;\n  }\n\n  private updateState(state: ChickenState) {\n    this.state = state;\n  }\n\n  private eat() {\n    if(!this.food) {\n      return;\n    }\n    this.food.startEating(this.id);\n    this.hungerMeter = Math.max(this.hungerMeter - 1, 0);\n    this.food.updateFoodMeter();\n    if(!this.hungerMeter || this.food.hasFinished()) {\n      this.clearFood();\n    }\n  }\n\n  private walk() {\n    this.currentImg = this.imgs[this.imgIndex];\n    this.imgIndex = this.imgIndex + 1 >= this.imgs.length - 1 ? 0 : this.imgIndex + 1;\n  }\n\n  private rest() {\n    this.currentImg = this.imgs[this.imgs.length - 1];\n    this.restingTurns = this.restingTurns\n      ? Math.max(this.restingTurns - 1, 0)\n      : setTurnsFromSec(RESTING_TURNS_PER_SEC, this.fps);\n  }\n\n  private shouldRest() {\n    return (\n      this.restingTurns\n      || (\n        !this.restingTurns\n        && (Math.random() * 100) < getProbabilityFromSec(RESTING_PROBABILITY_PER_SEC, this.fps)\n      )\n    );\n  }\n\n  private hasReachedFood() {\n    const distance = this.getFoodDistance();\n    return distance && Math.abs(distance.dx) <= 2 && Math.abs(distance.dy) <= 2;\n  }\n}\n","export const loadImage = (url: string): Promise<HTMLImageElement|undefined> => {\n  return new Promise((resolve) => {\n    const img = new Image();\n    img.src = url;\n    img.onload = () => resolve(img);\n    img.onerror = () => resolve();\n  });\n};\n\nexport const loadMultipleImages = (urls: string[]): Promise<HTMLImageElement[]> => {\n  return Promise.all(\n    urls.map(url => loadImage(url))\n  ).then(imgs => imgs.filter(Boolean)) as Promise<HTMLImageElement[]>;\n}\n","export const generateId = () => Math.random().toString(36).substr(2, 9);\n","import { Chicken } from \"../models/chicken\";\nimport { StaticObject } from \"../models/staticObject\";\nimport { Food } from \"../models/food\";\n\nexport interface Coordinates {\n  left: number;\n  top: number;\n}\n\nexport interface StaticItems {\n  objects: StaticObject[];\n  food: Food[];\n}\n\nexport interface DynItems {\n  chickens: Chicken[];\n}\n\nexport type FarmItems = StaticItems & DynItems;\n\nexport enum ChickenBreed {\n  brown = \"brown\",\n  orange = \"orange\",\n  yellow = \"yellow\",\n}\n\nexport type InteractEvent<E> = React.MouseEvent<E> | React.TouchEvent<E>;\n","export enum StorageKeys {\n  chickens = \"chickens\",\n  food = \"food\",\n}\n\nconst storageKeysToDefaultMap: { [key in StorageKeys]: any } = {\n  [StorageKeys.chickens]: null,\n  [StorageKeys.food]: null,\n};\n\nexport const getStorageKey = (key: StorageKeys): any => {\n  try {\n    const value = window.localStorage.getItem(key);\n    if (value === null) {\n      throw Error;\n    }\n    return JSON.parse(value);\n  } catch {\n    return storageKeysToDefaultMap[key];\n  }\n};\n\nexport const setStorageKey = (key: StorageKeys, value: any) => {\n  try {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  } catch {\n    console.error(\"Not possible to set item\", key, \"in local storage\");\n  }\n};\n\nexport const clearStorageKey = (key: StorageKeys) => {\n  window.localStorage.removeItem(key);\n};\n","import { generateId } from \"../utils/idGenerator\";\nimport { Coordinates } from \"../types/types\";\n\ninterface StaticObjectProps extends Coordinates {\n  img: HTMLImageElement;\n}\n\nexport class StaticObject {\n  img: HTMLImageElement;\n  top: number;\n  left: number;\n  public id = generateId();\n\n  constructor({ img, top, left }: StaticObjectProps) {\n    this.img = img;\n    this.top = top;\n    this.left = left;\n  }\n\n  public update(ctx: CanvasRenderingContext2D) {\n    this.draw(ctx);\n  }\n\n  private draw(ctx: CanvasRenderingContext2D) {\n    ctx.drawImage(\n      this.img,\n      0,\n      0,\n      this.img.naturalWidth,\n      this.img.naturalHeight,\n      this.left,\n      this.top,\n      this.img.naturalWidth,\n      this.img.naturalHeight\n    );\n  }\n}\n","import { generateId } from \"../utils/idGenerator\";\nimport { Coordinates } from \"../types/types\";\n\nconst MAX_EATERS = 3;\nconst MAX_FOOD = 30;\n\nexport interface FoodProps extends Coordinates {\n  width: number;\n  height: number;\n  prevWidth?: number;\n  prevHeight?: number;\n  imgs: HTMLImageElement[];\n  id?: string;\n  foodMeter?: number;\n}\n\nexport type SavedFoodState = Pick<FoodProps, \"top\"|\"left\"|\"foodMeter\"|\"id\"|\"prevHeight\"|\"prevWidth\">; \n\nexport class Food {\n  private prevWidth: number;\n  private prevHeight: number;\n  private imgs: HTMLImageElement[];\n  private foodMeter: number;\n  private animalsEating: string[] = [];\n  private originalTop: number;\n  private originalLeft: number;\n  public top: number;\n  public left: number;\n  public id: string;\n\n  constructor({ imgs, top, left, foodMeter, id, width, height, prevHeight, prevWidth }: FoodProps) {\n    this.imgs = imgs;\n    this.prevWidth = prevWidth || width;\n    this.prevHeight = prevHeight || height;\n    this.originalTop = top;\n    this.originalLeft = left;\n    this.top = Math.round(top * height / this.prevHeight);\n    this.left = Math.round(left * width / this.prevWidth);\n    this.foodMeter = foodMeter || foodMeter === 0 ? foodMeter : MAX_FOOD;\n    this.id = id || generateId();\n  }\n\n  public update(ctx: CanvasRenderingContext2D) {\n    this.draw(ctx, this.getImg());\n  }\n\n  public getSavingState() {\n    return {\n      top: this.originalTop,\n      left: this.originalLeft,\n      foodMeter: this.foodMeter,\n      id: this.id,\n      prevHeight: this.prevHeight,\n      prevWidth: this.prevWidth,\n    }\n  }\n\n  public updateFoodMeter() {\n    this.foodMeter = Math.max(this.foodMeter - 1, 0);\n  }\n\n  public hasFinished() {\n    return !this.foodMeter;\n  }\n\n  public isAvailable() {\n    return this.animalsEating.length <= MAX_EATERS;\n  }\n\n  public startEating(id: string) {\n    if(!this.animalsEating.includes(id)) {\n      this.animalsEating.push(id);\n    }\n  }\n\n  public stopEating(id: string) {\n    const i = this.animalsEating.indexOf(id);\n    if(i !== -1) {\n      this.animalsEating.splice(i, 1);\n    }\n  }\n\n  private getImg() {\n    if(this.foodMeter <= 10) {\n      return this.imgs[0];\n    }\n\n    if(this.foodMeter <= 20) {\n      return this.imgs[1];\n    }\n\n    return this.imgs[2];\n  }\n\n  private draw(ctx: CanvasRenderingContext2D, img: HTMLImageElement) {\n    ctx.drawImage(\n      img,\n      0,\n      0,\n      img.naturalWidth,\n      img.naturalHeight,\n      this.left,\n      this.top,\n      img.naturalWidth,\n      img.naturalHeight\n    );\n  }\n}","import brownChicken1 from \"../sprites/brown-chicken-1.png\";\nimport brownChicken2 from \"../sprites/brown-chicken-2.png\";\nimport brownChicken3 from \"../sprites/brown-chicken-3.png\";\nimport orangeChicken1 from \"../sprites/orange-chicken-1.png\";\nimport orangeChicken2 from \"../sprites/orange-chicken-2.png\";\nimport orangeChicken3 from \"../sprites/orange-chicken-3.png\";\nimport yellowChicken1 from \"../sprites/yellow-chicken-1.png\";\nimport yellowChicken2 from \"../sprites/yellow-chicken-2.png\";\nimport yellowChicken3 from \"../sprites/yellow-chicken-3.png\";\nimport food1 from \"../sprites/food1.png\";\nimport food2 from \"../sprites/food2.png\";\nimport food3 from \"../sprites/food3.png\";\nimport { loadMultipleImages } from \"./loadImages\";\nimport henHouse from \"../sprites/hen-house.png\";\nimport waterHole from \"../sprites/water.png\";\nimport { Chicken, SavedChickenState } from \"../models/chicken\";\nimport { StaticObject } from \"../models/staticObject\";\nimport { StaticItems, DynItems, ChickenBreed, Coordinates } from \"../types/types\";\nimport { getStorageKey, StorageKeys } from \"./localStorage\";\nimport { Food, SavedFoodState } from \"../models/food\";\n\nconst FRAME_THROTTLE = 15;\n\ninterface DrawProps {\n  canvasRef: React.RefObject<HTMLCanvasElement>,\n  resizedWidth: number,\n  resizedHeight: number,\n}\n\ntype DrawStaticObjectsProps = StaticItems & DrawProps;\ntype DrawDynamicObjectsProps = DynItems & DrawProps & { animationIdRef: React.MutableRefObject<number> };\n\nexport const getFoodImgs = async () => {\n  return await loadMultipleImages([\n    food1,\n    food2,\n    food3,\n  ]);\n}\n\nexport const getFood = (imgs: HTMLImageElement[], width: number, height: number) => {\n  const savedFood = getStorageKey(StorageKeys.food);\n  if(!savedFood) {\n    return [];\n  }\n\n  return savedFood.map((food: SavedFoodState) => {\n    return new Food({ ...food, imgs, width, height });\n  });\n};\n\nexport const getObjects = async (width: number, height: number) => {\n  const images = await loadMultipleImages([\n    henHouse,\n    waterHole,\n  ]);\n  const housePos = { top: height * 0.2, left: width * 0.2 };\n  const waterPos = { top: housePos.top + 30, left: housePos.left + 70 };\n\n  const positions: Coordinates[] = [\n    housePos,\n    waterPos,\n  ]\n  return images.map((img, i) => {\n    return new StaticObject({\n      img,\n      top: positions[i].top,\n      left: positions[i].left,\n    })\n  })\n}\n\nexport const getChickens = async (width: number, height: number) => {\n  const images = await Promise.all([\n    loadMultipleImages([brownChicken1, brownChicken2, brownChicken3]),\n    loadMultipleImages([orangeChicken1, orangeChicken2, orangeChicken3]),\n    loadMultipleImages([yellowChicken1, yellowChicken2, yellowChicken3]),\n  ]);\n  const imagesBreedMap = {\n    [ChickenBreed.brown]: images[0],\n    [ChickenBreed.orange]: images[1],\n    [ChickenBreed.yellow]: images[2],\n  }\n  const savedChickens = getStorageKey(StorageKeys.chickens);\n  if(!savedChickens) {\n    return Object.keys(ChickenBreed).map(breed => new Chicken({\n      width,\n      height,\n      imgs: imagesBreedMap[breed as ChickenBreed],\n      breed: breed as ChickenBreed,\n    }))\n  }\n\n  return savedChickens.map((props: SavedChickenState) => new Chicken({\n    width,\n    height,\n    imgs: imagesBreedMap[props.breed],\n    ...props,\n  }));\n}\n\nexport const drawStaticObjects = ({\n  canvasRef,\n  objects,\n  food,\n  resizedWidth,\n  resizedHeight,\n}: DrawStaticObjectsProps) => {\n  if(!canvasRef.current) {\n    return;\n  }\n  const ctx = canvasRef.current.getContext('2d');\n  if(!ctx) {\n    return;\n  }\n\n  ctx.imageSmoothingEnabled = false;\n  ctx.clearRect(0, 0, resizedWidth, resizedHeight);\n\n  objects.forEach(object => object.update(ctx));\n  food.forEach(food => food.update(ctx));\n}\n\nexport const drawDynamicObjects = ({\n  canvasRef,\n  resizedWidth,\n  resizedHeight,\n  chickens,\n  animationIdRef,\n}: DrawDynamicObjectsProps) => {\n  if(!canvasRef.current) {\n    return;\n  }\n  const ctx = canvasRef.current.getContext('2d');\n  if(!ctx) {\n    return;\n  }\n\n  let frameCount = 0;\n  ctx.imageSmoothingEnabled = false;\n  window.cancelAnimationFrame(animationIdRef.current);\n  const loop = (timestamp: number) => {\n    window.cancelAnimationFrame(animationIdRef.current);\n    frameCount++;\n\n    if(frameCount < FRAME_THROTTLE) {\n      animationIdRef.current = window.requestAnimationFrame(loop);\n      return;\n    }\n    frameCount = 0;\n    ctx.clearRect(0, 0, resizedWidth, resizedHeight);\n\n    chickens.forEach(chicken => {\n      chicken.update(ctx, timestamp);\n    });\n\n    animationIdRef.current = window.requestAnimationFrame(loop)\n  }\n\n  loop(performance.now());\n};\n","import { StaticObject } from \"../../models/staticObject\";\nimport { Chicken } from \"../../models/chicken\";\nimport { Food } from \"../../models/food\";\n\nexport enum FarmActions {\n  setObjects,\n  addFood,\n  setFood,\n  removeFood,\n  setChickens,\n  toggleFeeding,\n  toggleDragging,\n  toggleInfo,\n}\n\ninterface ActionType<T> {\n  type: T;\n}\n\ninterface ActionWithPayloadType<T, P> extends ActionType<T> {\n  payload: P;\n}\n\nexport type SetObjectsAction = ActionWithPayloadType<FarmActions.setObjects, { objects: StaticObject[] }>;\nexport type AddFoodAction = ActionWithPayloadType<FarmActions.addFood, { food: Food }>;\nexport type SetFoodAction = ActionWithPayloadType<FarmActions.setFood, { food: Food[] }>;\nexport type RemoveFoodAction = ActionWithPayloadType<FarmActions.removeFood, { id: string }>;\nexport type SetChickensAction = ActionWithPayloadType<FarmActions.setChickens, { chickens: Chicken[] }>;\nexport type ToggleFeedingAction = ActionType<FarmActions.toggleFeeding>;\nexport type ToggleDraggingAction = ActionType<FarmActions.toggleDragging>;\nexport type ToggleInfoAction = ActionType<FarmActions.toggleInfo>;\n\nexport const setObjectsAction = (objects: StaticObject[]): SetObjectsAction => ({\n  type: FarmActions.setObjects,\n  payload: { objects },\n});\n\nexport const addFoodAction = (food: Food): AddFoodAction => ({\n  type: FarmActions.addFood,\n  payload: { food },\n});\n\nexport const setFoodAction = (food: Food[]): SetFoodAction => ({\n  type: FarmActions.setFood,\n  payload: { food },\n});\n\nexport const removeFoodAction = (id: string): RemoveFoodAction => ({\n  type: FarmActions.removeFood,\n  payload: { id },\n});\n\nexport const setChickensAction = (chickens: Chicken[]): SetChickensAction => ({\n  type: FarmActions.setChickens,\n  payload: { chickens },\n});\n\nexport const toggleFeedingAction = (): ToggleFeedingAction => ({\n  type: FarmActions.toggleFeeding,\n});\n\nexport const toggleDraggingAction = (): ToggleDraggingAction => ({\n  type: FarmActions.toggleDragging,\n});\n\nexport const toggleInfoAction = (): ToggleInfoAction => ({\n  type: FarmActions.toggleInfo,\n});\n","import React from \"react\";\nimport { FarmItems } from \"../../types/types\";\nimport {\n  SetObjectsAction,\n  AddFoodAction,\n  SetChickensAction,\n  ToggleFeedingAction,\n  ToggleDraggingAction,\n  FarmActions,\n  RemoveFoodAction,\n  ToggleInfoAction,\n  SetFoodAction,\n} from \"./actions\";\n\nexport type AllFarmActions = (\n  SetObjectsAction\n  | AddFoodAction\n  | SetFoodAction\n  | RemoveFoodAction\n  | SetChickensAction\n  | ToggleFeedingAction\n  | ToggleDraggingAction\n  | ToggleInfoAction\n);\n\ninterface FarmState extends FarmItems {\n  isFeeding: boolean;\n  isDragging: boolean;\n  isInfoOpen: boolean;\n}\n\nexport const initialFarmState: FarmState = {\n  objects: [],\n  food: [],\n  chickens: [],\n  isFeeding: false,\n  isDragging: false,\n  isInfoOpen: false,\n};\n\ntype FarmReducerType = React.Reducer<FarmState, AllFarmActions>;\n\nexport const farmReducer: FarmReducerType = (state, action) => {\n  switch (action.type) {\n    case FarmActions.setChickens:\n      return {\n        ...state,\n        chickens: action.payload.chickens,\n      }\n    case FarmActions.setFood: {\n      return {\n        ...state,\n        food: action.payload.food,\n      }\n    }\n    case FarmActions.addFood:\n      return {\n        ...state,\n        food: [\n          ...state.food,\n          action.payload.food,\n        ],\n      }\n    case FarmActions.removeFood:\n      return {\n        ...state,\n        food: state.food.filter(({ id }) => id !== action.payload.id),\n      }\n    case FarmActions.setObjects:\n      return {\n        ...state,\n        objects: action.payload.objects,\n      }\n    case FarmActions.toggleDragging:\n      return {\n        ...state,\n        isDragging: !state.isDragging,\n      }\n    case FarmActions.toggleFeeding:\n      return {\n        ...state,\n        isFeeding: !state.isFeeding,\n      }\n    case FarmActions.toggleInfo:\n      return {\n        ...state,\n        isInfoOpen: !state.isInfoOpen,\n      }\n    default:\n      return state;\n  }\n};\n","import React, { useRef, useEffect } from \"react\";\nimport styles from \"./staticCanvas.module.scss\";\nimport { drawStaticObjects } from \"../../utils/drawImages\";\nimport { Food } from \"../../models/food\";\nimport { StaticObject } from \"../../models/staticObject\";\n\ninterface StaticCanvasProps {\n  food: Food[];\n  resizedWidth: number;\n  resizedHeight: number;\n  objects: StaticObject[];\n}\n\nexport const StaticCanvas: React.FC<StaticCanvasProps> = ({\n  resizedWidth,\n  resizedHeight,\n  objects,\n  food,\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    drawStaticObjects({\n      canvasRef,\n      resizedWidth,\n      resizedHeight,\n      objects,\n      food,\n    })\n  }, [resizedWidth, resizedHeight, objects, food])\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width={resizedWidth}\n      height={resizedHeight}\n      className={styles.canvas}\n    ></canvas>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport styles from \"./info.module.scss\";\nimport { Chicken } from \"../../models/chicken\";\n\ninterface InfoProps {\n  chickens: Chicken[];\n  isOpen: boolean;\n}\n\nconst renderChickensHunger = (chickens: Chicken[]) => {\n  return chickens\n    .sort((a, b) => b.getHungerMeter() - a.getHungerMeter())\n    .map((chicken, i) => (\n      <p key={i}>{chicken.getBreed()} chicken: {chicken.getHungerMeter()}</p>\n    ))\n}\n\nexport const Info: React.FC<InfoProps> = ({ chickens, isOpen }) => {\n  const [, setTime] = useState(0);\n\n  useEffect(() => {\n    let id = 0;\n    if(isOpen) {\n      id = window.setInterval(() => setTime(Date.now()), 1000);\n    }\n    return () => window.clearInterval(id);\n  }, [isOpen]);\n\n  return (\n    <div className={styles.info}>\n      <h3 className={styles.title}>Hunger</h3>\n      {renderChickensHunger(chickens)}\n    </div>\n  );\n}","import React from \"react\";\nimport cx from \"classnames\";\nimport styles from \"./menu.module.scss\";\nimport foodUrl from \"../../sprites/food1.png\";\nimport chickenUrl from \"../../sprites/yellow-chicken-1.png\";\nimport { Info } from \"../info/Info\";\nimport { Chicken } from \"../../models/chicken\";\nimport {\n  toggleFeedingAction,\n  toggleInfoAction,\n} from \"../farm/actions\";\nimport { AllFarmActions } from \"../farm/reducer\";\n\ninterface MenuProps {\n  isInfoOpen: boolean;\n  isFeeding: boolean;\n  chickens: Chicken[];\n  dispatch: React.Dispatch<AllFarmActions>;\n}\n\nexport const Menu: React.FC<MenuProps> = ({\n  isInfoOpen,\n  isFeeding,\n  chickens,\n  dispatch,\n}) => {\n  const toggleInfo = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.stopPropagation();\n    dispatch(toggleInfoAction());\n  }\n\n  const toggleFeeding = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.stopPropagation();\n    dispatch(toggleFeedingAction());\n  }\n\n  return (\n    <div className={cx(styles.menu, isInfoOpen && styles.visible)}>\n      <div className={styles.toolBar}>\n        <button className={cx(styles.farmButton, isInfoOpen && styles.active)} onClick={toggleInfo}>\n          <img src={chickenUrl} alt=\"info\"></img>\n        </button>\n        <button className={cx(styles.farmButton, isFeeding && styles.active)} onClick={toggleFeeding}>\n          <img src={foodUrl} alt=\"food\"></img>\n        </button>\n      </div>\n      <Info chickens={chickens} isOpen={isInfoOpen}/>\n    </div>\n  );\n};\n","import React, { useRef, useEffect, useCallback } from \"react\";\nimport styles from \"./dynamicCanvas.module.scss\";\nimport { drawDynamicObjects } from \"../../utils/drawImages\";\nimport { Chicken } from \"../../models/chicken\";\nimport { InteractEvent } from \"../../types/types\";\n\ninterface DynamicCanvasProps {\n  resizedWidth: number;\n  resizedHeight: number;\n  chickens: Chicken[];\n  toggleDragging: (e: InteractEvent<HTMLCanvasElement>) => void;\n  dropFood: (e: InteractEvent<HTMLCanvasElement>) => void;\n}\n\nexport const DynamicCanvas: React.FC<DynamicCanvasProps> = ({\n  resizedWidth,\n  resizedHeight,\n  chickens,\n  toggleDragging,\n  dropFood,\n}) => {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const animationIdRef = useRef(0);\n  const onDragFinished = useCallback((e: InteractEvent<HTMLCanvasElement>) => {\n    dropFood(e);\n    toggleDragging(e);\n  }, [dropFood, toggleDragging]);\n\n  useEffect(() => {\n    drawDynamicObjects({\n      canvasRef,\n      resizedWidth,\n      resizedHeight,\n      animationIdRef,\n      chickens,\n    })\n  }, [resizedWidth, resizedHeight, animationIdRef, chickens]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      width={resizedWidth}\n      height={resizedHeight}\n      className={styles.canvas}\n      onTouchStart={toggleDragging}\n      onTouchEnd={onDragFinished}\n      onTouchMove={dropFood}\n      onMouseDown={toggleDragging}\n      onMouseUp={onDragFinished}\n      onMouseMove={dropFood}\n    ></canvas>\n  );\n};\n","import { Coordinates } from \"../types/types\";\n\ninterface GetClosestOptions<I> extends Coordinates {\n  items: I[];\n}\n\nexport const getDistance = (a: Coordinates, b: Coordinates) => {\n  return Math.sqrt(\n    Math.abs(a.left - b.left) ** 2\n    + Math.abs(a.top - b.top) ** 2\n  );\n}\n\nexport const getClosest = <I extends Coordinates>({\n  items,\n  left,\n  top,\n}: GetClosestOptions<I>) => {\n  let closest = Infinity;\n  let closestItem: I | undefined;\n\n  items.forEach(item => {\n    const distance = getDistance({ left, top }, item);\n\n    if (distance < closest) {\n      closest = distance;\n      closestItem = item;\n    }\n  });\n\n  return closestItem;\n};\n","import React, { useEffect, memo, useState, useCallback, useReducer } from \"react\";\nimport throttle from \"lodash.throttle\";\nimport cx from \"classnames\";\nimport styles from \"./farm.module.scss\";\nimport { useWindowDimensions } from \"../../utils/useWindowDimensions\";\nimport { getObjects, getChickens, getFoodImgs, getFood } from \"../../utils/drawImages\";\nimport { Chicken } from \"../../models/chicken\";\nimport { Coordinates, InteractEvent } from \"../../types/types\";\nimport { farmReducer, initialFarmState } from \"./reducer\";\nimport {\n  setObjectsAction,\n  setChickensAction,\n  toggleFeedingAction,\n  toggleDraggingAction,\n  addFoodAction,\n  removeFoodAction,\n  setFoodAction,\n} from \"./actions\";\nimport { setStorageKey, StorageKeys } from \"../../utils/localStorage\";\nimport { Food, FoodProps } from \"../../models/food\";\nimport { StaticCanvas } from \"../StaticCanvas/StaticCanvas\";\nimport { Menu } from \"../menu/Menu\";\nimport { DynamicCanvas } from \"../dynamicCanvas/DynamicCanvas\";\nimport { getClosest, getDistance } from \"../../utils/distance\";\nimport { StaticObject } from \"../../models/staticObject\";\n\nconst RESIZE_BY = 2;\nconst MAX_FOOD_DISTANCE = 300 / RESIZE_BY; // in px\nconst SAVING_INTERVAL = 5000;\n\nconst initChickens = (\n  chickens: Chicken[],\n  removeFood: (id: string) => void,\n  requestFood: (coord: Coordinates) => Food | undefined\n) => {\n  chickens.forEach(chicken => {\n    chicken.setFoodMethods(removeFood, requestFood);\n  })\n}\n\nconst setGameItems = (\n  resizedWidth: number,\n  resizedHeight: number,\n  setObjects: (objects: StaticObject[]) => void,\n  setChickens: (chickens: Chicken[]) => void,\n  setFoodImgs: (imgs: HTMLImageElement[]) => void,\n  setFood: (food: Food[]) => void,\n) => {\n  Promise.all([\n    getObjects(resizedWidth, resizedHeight),\n    getChickens(resizedWidth, resizedHeight),\n    getFoodImgs(),\n  ]).then(([objects, chickens, foodImgs]) => {\n    setObjects(objects);\n    setChickens(chickens);\n    setFoodImgs(foodImgs);\n    setFood(getFood(foodImgs, resizedWidth, resizedHeight));\n  });\n}\n\nconst throtteFoodDrop = throttle((\n  { imgs, left, top, addFood, width, height }: FoodProps & { addFood: (food: Food) => void },\n) => {\n  const food = new Food({\n    imgs,\n    top: Math.round(top / RESIZE_BY),\n    left: Math.round(left / RESIZE_BY),\n    width,\n    height,\n  });\n  addFood(food);\n}, 100, { leading: true, trailing: false });\n\nconst getClosestFood = (coord: Coordinates, food: Food[]) => {\n  const allAvailableFood = food.filter(item => (\n    item.isAvailable()\n    && getDistance(coord, item) < MAX_FOOD_DISTANCE\n  ));\n  if(!allAvailableFood.length) {\n    return undefined;\n  }\n  return getClosest({\n    items: allAvailableFood,\n    ...coord,\n  });\n}\n\nconst disableFeedingOnEsc = (toggleFeeding: () => void, isFeeding: boolean) => {\n  const stopFeedingOnEsc = (e: KeyboardEvent) => {\n    if (e.code === \"Escape\" && isFeeding) {\n      toggleFeeding();\n    }\n  };\n  document.addEventListener(\"keydown\", stopFeedingOnEsc);\n\n  return () => {\n    document.removeEventListener(\"keydown\", stopFeedingOnEsc);\n  };\n}\n\nconst saveItemsToStorage = (storageKey: StorageKeys, items: { getSavingState: () => any }[]) => {\n  const storage = items.map(item => item.getSavingState());\n  if (!storage.length) {\n    return;\n  }\n  setStorageKey(storageKey, storage);\n}\n\nconst saveItemsOnInterval = (storageKey: StorageKeys, items: { getSavingState: () => any }[]) => {\n  const id = setInterval(() => saveItemsToStorage(storageKey, items), SAVING_INTERVAL);\n  return () => {\n    saveItemsToStorage(storageKey, items);\n    clearInterval(id);\n  };\n}\n\nconst isTouchEvent = (e: InteractEvent<HTMLCanvasElement>): e is React.TouchEvent<HTMLCanvasElement> => {\n  return (e as React.TouchEvent<HTMLCanvasElement>).type.includes(\"touch\");\n}\n\nexport const Farm: React.FC = memo(() => {\n  const { resizedWidth, resizedHeight } = useWindowDimensions(RESIZE_BY);\n  const [\n    {\n      isDragging,\n      isFeeding,\n      isInfoOpen,\n      objects,\n      chickens,\n      food,\n    },\n    dispatch,\n  ] = useReducer(farmReducer, initialFarmState);\n  const [foodImgs, setFoodImgs] = useState<HTMLImageElement[]>([]);\n\n  const addFood = useCallback((food: Food) => dispatch(addFoodAction(food)), [dispatch]);\n  const setFood = useCallback((food: Food[]) => dispatch(setFoodAction(food)), [dispatch]);\n  const removeFood = useCallback((id: string) => dispatch(removeFoodAction(id)), [dispatch]);\n  const requestFood = useCallback((coord: Coordinates) => getClosestFood(coord, food), [food]);\n  const handleFoodDrop = useCallback((e: InteractEvent<HTMLCanvasElement>) => {\n    e.persist();\n    e.stopPropagation();\n\n    if (!isFeeding || !foodImgs.length || !isDragging) {\n      return;\n    }\n\n    let left: number;\n    let top: number;\n\n    if(isTouchEvent(e)) {\n      if(e.touches.length !== 1) {\n        return;\n      }\n      left = e.touches[0].clientX;\n      top = e.touches[0].clientY;\n    } else {\n      e.preventDefault();\n      left = e.clientX;\n      top = e.clientY;\n    }\n\n    throtteFoodDrop({\n      left,\n      top,\n      imgs: foodImgs,\n      addFood,\n      width: resizedWidth,\n      height: resizedHeight,\n    });\n  }, [isFeeding, foodImgs, isDragging, addFood, resizedHeight, resizedWidth]);\n  const toggleFoodDragging = useCallback((e: InteractEvent<HTMLCanvasElement>) => {\n    e.stopPropagation();\n    if(!isTouchEvent(e)) {\n      e.preventDefault();\n    }\n\n    dispatch(toggleDraggingAction())\n  }, [dispatch]);\n\n  useEffect(() => initChickens(chickens, removeFood, requestFood), [chickens, removeFood, requestFood])\n  useEffect(() => disableFeedingOnEsc(\n    () => dispatch(toggleFeedingAction()),\n    isFeeding\n  ), [dispatch, isFeeding]);\n  useEffect(() => setGameItems(\n    resizedWidth,\n    resizedHeight,\n    (objects: StaticObject[]) => dispatch(setObjectsAction(objects)),\n    (chickens: Chicken[]) => dispatch(setChickensAction(chickens)),\n    setFoodImgs,\n    setFood,\n  ), [dispatch, resizedWidth, resizedHeight, setFoodImgs, setFood]);\n  useEffect(\n    () => saveItemsOnInterval(StorageKeys.chickens, chickens),\n    [chickens, resizedHeight, resizedWidth]\n  )\n  useEffect(\n    () => saveItemsOnInterval(StorageKeys.food, food),\n    [food, resizedHeight, resizedWidth]\n  )\n\n  return (\n    <div className={cx(styles.wrapper, isFeeding && styles.feeding)}>\n      <div className={styles.bg}/>\n      <StaticCanvas\n        resizedWidth={resizedWidth}\n        resizedHeight={resizedHeight}\n        objects={objects}\n        food={food}\n      />\n      <DynamicCanvas\n        resizedWidth={resizedWidth}\n        resizedHeight={resizedHeight}\n        chickens={chickens}\n        toggleDragging={toggleFoodDragging}\n        dropFood={handleFoodDrop}\n      />\n      <Menu\n        isInfoOpen={isInfoOpen}\n        isFeeding={isFeeding}\n        chickens={chickens}\n        dispatch={dispatch}\n      />\n    </div>\n  );\n});\n","import { useState, useEffect } from \"react\";\nimport debounce from \"lodash.debounce\";\n\nexport const useWindowDimensions = (resizeBy = 1) => {\n  const [{ width, height }, setDimensions] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n  \n  useEffect(() => {\n    const handleResize = debounce(() => {\n      setDimensions({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    }, 500, { trailing: true, leading: false });\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n  \n  return {\n    resizedWidth: width / resizeBy,\n    resizedHeight: height / resizeBy,\n  };\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport { Farm } from \"./components/farm/Farm\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<Farm />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}