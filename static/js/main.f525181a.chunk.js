(window["webpackJsonpidle-chicken-farm"]=window["webpackJsonpidle-chicken-farm"]||[]).push([[0],[,,,function(t,e,i){t.exports={menu:"menu_menu__2vPAR",visible:"menu_visible__3jm2d",toolBar:"menu_toolBar__jeKpg",farmButton:"menu_farmButton__3Te1g",active:"menu_active__21Ixu"}},,,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA2UlEQVQ4T2NkwAIstWT+H7/2hBGbHLIYhgKQxqQP7xjmCQgxEDIARTNM4x0pcYZD337TSTPI1m29kQwMijoQb92/wuBVvByv7XBngzWva2XwCqoG64Wx8fkbrBmssYkHYqNOJTxAQQYha0aPBQybUaIH6nSYGLprEDava4X7Fezv+1cgfFgYIJkKcxFCMzSwQBIgG0AAg42kBuQdVM0gDcXL4ZpRDEDyAiwcUP2MZDLcnyAxqPPRAxAjhYHjGgvAFudY0zY4npt4GLzqvsBpbPGNNefA4p2QZgCIpZgQUlRE4QAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAYUlEQVQ4T2NkoBAwUqifYQgYwMbG8R/kzV+/fmB1LV4vgDRPu2rNYCWuyGAgsgSrIQTDgCIXEBNDGC4gZCO6oSgG4PMzLoOJcgE+gwkGIszJRLuAmIBDVkO0C3AZPPAGAAD7jC0R4as9ogAAAABJRU5ErkJgggAA"},function(t,e,i){t.exports={wrapper:"farm_wrapper__3IXTL",bg:"farm_bg__3rsuD",feeding:"farm_feeding__3K0PI"}},,function(t,e,i){t.exports={info:"info_info__rQiOK",title:"info_title__vsvEd"}},,,,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAPhJREFUKBWNkTEOAVEQhofQiF6CSkMUW9M4wB5D7RTO4BjqPYCGWiGRiIoWlUax9pvsbOZtXsIkm52Z9////G+eyB8xnw7zGKwZa/oexOXrITGBn2SELv2exAT+InsnPm/4op5jddFpS5KM9Oh4vMru/ZH96aa8n5Mhbg5n/UzEhgTk2FIArmZj/dL0Ltm6Wy2vZSoQARVRPQuWfWTZQB2YbfXuiB4r3JHALrnZ5hoIBLYBcGDBcoxATpggudoubahds4pIeQ1wGp5II3gqs28gmwYQIfr+qQIyIARsOrUPT/T9IEfguZ3k/k8egIoiWFj90Nf2PL73BVmidJM6U/0/AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA2UlEQVQ4T2NkoAAwEqPXUkvm//FrTzDUEtQM0pj04R3DPAEhBnQDiNJsx8XKoPLsJYYBtNMMcjLIVj09JXDQXLp0j+HQt99w5+O1GaQ5x0KdYcqJm2DNMDbM7yia0UMVphkWI15eT8FMr7ovYNvhmtFtASlCdjLMAJArUGxGtwGmEORHEAD5GcSG+R1mANhmmGZYgID8BgIgRehs5EBDcTayU5E1wgwCeQMEYCGOEWAwBTBFMC+AXEAwqkBeAGnY1sQDDlUYDTMEOYlixDNIM0wDSCE6HzkjAQALWZgQQhdf+AAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAxklEQVQ4T2NkoAAwUqCXgSjNlloy/49fe4KhlqBmkMakD+8Y5gkIMaAbQJRmOy5WBpVnLzEMoJ1mkJNBturpKYHD9dKlewyHvv2GOx/FZvSAAfFzLNQZppy4CdYMY8P8DteMrhCmGDkqvbyegrledV/AtoM1wzSixznImSAAcjaIDaJBrkCxGaYZ5ieQ80AApBAXG24zzHYQDQsgZI3IBiEHGkaAgWyCORcUsjAAE8cZ2jAXgGzHBpA1guSxJhJQGGDTjJ48Ae0WhxAxBBGoAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA/0lEQVQ4T2NkIAJYasn8P37tCSO6UgwBdAUgjUkf3jHMExBiQDeAKM12XKwMKs9eYhhAO80gJ28T+MDAoK8M8c3FuwxeHwTgzsdrM1izvTCD18G3YL0wNszvKJrRQxWmGR6Izj/BTK+6L2Db4ZpBCt9Z+TAIHdsCV4viZKgoyBUoNsM0okfTiWtLIEIgP1+8C6dh/gbbDNP88fZFBsXXjxlALgi4sJPh0LffYH+CnXrwLQPIJZqsumA1GM4GKbovKsvAr6oPdj5MIyyUQXIggKEZ2QUgNswVMK+AXAMTwxra2AxADgeYjTAxrPEMjqImHnCUwGiQBqLSNjbN2HIVALxhoxCi5+fxAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAARRJREFUKBW1UbGOQUEUPSs220hWyEYiFKKxm4jaNgqd+Aq9n/AtSqW8TqFBq6FAFHSCt6WKOZeZ3PcyCc3eZN67c2bOuefeAf476j+Fq69GwgdqjMROeIJP4CmZQut8Dj6Bl8jaic7f9Cae02qQDoFa+X4036AVpjFd7IX3vLIhtsZHWU7kUSVC9g2F94JGVhaaFwS9lBte8iEiwOm3jTqG7lnEMrL2CjD6EAfWtnhnRRLjMVv07xB7Nv2KbdV3xPbfao7MZOg0OBzbp+SG+P1ededimzZoN2Pg7VcRn+ZPEfaqQxOJR56K9km2UTrsbAq2RWfEbM8R2wR5yLXsnoXI6TLoRBMFjH9Y/TyoXO2zxff6/g0TmXObC3ZmMAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA40lEQVQ4T2NkoAAwUqCXAatmSy2Z/8evPSFoMIYCkMakD+8Y5gkIMRAyAEUzTOMdKXGGQ99+00kzyNZtAh8YGPSVIWF48S6D1wcBvLbDnQ3WbC/M4HXwLVgvjI3sb/SABGsGa2zigdi4lx0l9mCGgQTfWfkwCB3bAncNhs0g54KdDqIZGBgstGIwkgLMALjNIFNPsB4HOxvkZBAAsUHiIADScF9UloFfVR9uO1wzsgRMM7IBH29fZFB8/RhsECwcUJyNbADMrSAxEEC2ESaHkUhgitE9CrIVPcVhTZ7YMgu2pAoAZ9iDEPlbDrYAAAAASUVORK5CYIIA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA3ElEQVQ4T2NkoAAwYtNrqSXz//i1J1jlkNVjKABpTPrwjmGegBADIQNQNMM03pESZzj07TedNINs3dYbycCgqAPx1v0rDF7Fy/HaDnc2WPO6VgavoGqwXhgbn7/BmsEam3ggNupUwgMUZBCyZvRYwLAZJeqgToeJobsGYfO6Vrhfwf6+fwXCh4UBkqkwFyE0QwMLJAGyAQQw2EhqQN5B1QzSULwcrhnFACQvwMIB1c9IJsP9CRKDAvSow0hhcE1NPAxedV8YQLEAokEAPdqwpm2YBpBiWDSCDEDXDAAJCpUQ3ocHKgAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAxElEQVQ4T2NkoAAwUqCXAatmSy2Z/8evPSFoMIYCkMakD+8Y5gkIMRAyAEUzTOMdKXGGQ99+00kzyNZtvZEMDIo6kDC8f4XBq3g5XtvhzgZrXtfK4BVUDdYLYyP7Gz0gwZrBGpt4IDbqVKLEHswwbAZi2AxyLtjpIBoEYN5AMhJkIMhFCJvXtYKlQRIgJ2NlQ8MEUzOSBEwzigHQAASJwcIB1dlIBsBcCY4BqPNhNsLkMBIJXDFaoscWbViTJ7bMgi2pAgArfH8QF4tK0wAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAc0lEQVQ4T2NkoBAwUqifAcUANjaO/yADf/36QbTBcIUgzdOuWjNYiSsyGIgswWoINguIdgEuC4h2KshrBF2AHKDEhgdWFxATHjDLcHqBIhdgSxu4DCQqEPF5iaRoxJbISEpI2LxGtAtw5RmiwgBfhqPYAACig0sRfRXPlAAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiElEQVQ4T2NkQANsbBz/QUK/fv1gRJfDxkdRBNI87ao1g5W4IoOByBKiDMGwhRgXIKshypnITkd3JdwAbDbjcg2GC7D5ndjwIMkF2FxEVBjANGKLIawGINuE7hX0NII1GtFtwhe1BF1AKDUSFQYwQ4gKRHxxTzAQcaUHWMCR7AJiEhPBMCCUuQCBBIskpUxGvgAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,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"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAANCAYAAADISGwcAAABCUlEQVQ4T2NkQANsbBz/0cWoyf/16wcjsnkoHJDlusaW1LQPw6zLZ48zIDsC7gCY5eLSimBNyoraVHXI3ftXwea9fHqfAdkRYAcgWw5S8PC3MoOIRgJVHcB9txZsHsiDyI5gJMbyGHsFhiUHHzCAaGQAEwPRMICuFlnuzY0FDPKsdxmsbHwYjh3ZAg4JuANgBoB8DwPUCgWQxTAAcgByKMAdEBGVx7Bi2SSqBjsuw2B2oYQAKFjk5JTo4oBHj+5hjwKQI+gBQPEPAuAQQM4F9LAcZgcsK2LNhiBJEAAVSjA2uY5DNgPExsiGMINh2RG5kACJ/UIrOkl1CLIZ2OzAKIoptZCQA9E9BQB8PqttWv0ktAAAAABJRU5ErkJgggAA"},function(t,e,i){t.exports={canvas:"staticCanvas_canvas__YAp_u"}},function(t,e,i){t.exports={canvas:"dynamicCanvas_canvas__3o8Eh"}},,function(t,e,i){t.exports=i(40)},,,,,function(t,e,i){},,function(t,e,i){"use strict";i.r(e);var n,o=i(0),r=i.n(o),a=i(15),s=i.n(a),A=(i(38),i(1)),h=i(2),c=i(16),g=i.n(c),u=i(7),d=i.n(u),f=i(10),l=i.n(f),p=i(17),m=i.n(p),v=i(4),w=i.n(v),b=i(11),I=i(18),k=i.n(I),M=i(19),E=i.n(M),j=i(20),y=i.n(j),O=i(21),B=i.n(O),C=i(22),F=i.n(C),G=i(23),P=i.n(G),Q=i(8),R=i.n(Q),D=i(24),N=i.n(D),x=i(25),U=i.n(x),Y=i(9),W=i.n(Y),S=i(26),H=i.n(S),J=i(27),T=i.n(J),z=function(t){return Promise.all(t.map(function(t){return function(t){return new Promise(function(e){var i=new Image;i.src=t,i.onload=function(){return e(i)},i.onerror=function(){return e()}})}(t)})).then(function(t){return t.filter(Boolean)})},Z=i(28),V=i.n(Z),K=i(29),L=i.n(K),X=i(5),q=i(6),_=function(){return Math.random().toString(36).substr(2,9)};!function(t){t[t.eating=0]="eating",t[t.walkingToFood=1]="walkingToFood",t[t.walking=2]="walking",t[t.resting=3]="resting"}(n||(n={}));var $,tt,et,it=function(){function t(e){var i=e.imgs,o=e.id,r=e.width,a=e.height,s=e.prevWidth,A=e.prevHeight,h=e.breed,c=e.top,g=e.left,u=e.hungerMeter;Object(X.a)(this,t),this.imgs=void 0,this.width=void 0,this.height=void 0,this.prevWidth=void 0,this.prevHeight=void 0,this.widthChangeRatio=void 0,this.heightChangeRatio=void 0,this.imgIndex=0,this.top=void 0,this.left=void 0,this.currentImg=void 0,this.breed=void 0,this.state=n.walking,this.restingTurns=0,this.food=void 0,this.hungerMeter=void 0,this.lastHungerIncrease=0,this.hasRequestedFood=!1,this.removeFood=void 0,this.requestFood=void 0,this.timestamp=0,this.fps=0,this.id=void 0,this.imgs=i,this.currentImg=this.imgs[this.imgIndex],this.width=r,this.height=a,this.prevWidth=s||this.width,this.prevHeight=A||this.height,this.heightChangeRatio=a/this.prevHeight,this.widthChangeRatio=r/this.prevWidth,this.top=c||Math.round(Math.random()*(this.height-this.imgs[0].naturalHeight)),this.left=g||Math.round(Math.random()*(this.width-this.imgs[0].naturalWidth)),this.breed=h,this.hungerMeter=u||0,this.id=o||_()}return Object(q.a)(t,[{key:"update",value:function(t,e){this.fps=1e3/(e-this.timestamp),this.timestamp=e,this.updateFoodMeter(),this.hasFood()?this.hasReachedFood()?(this.updateState(n.eating),this.eat()):(this.updateState(n.walkingToFood),this.walkToFood()):this.shouldRest()?(this.updateState(n.resting),this.rest()):(this.updateState(n.walking),this.walkRandomly()),this.draw(t)}},{key:"getBreed",value:function(){return this.breed}},{key:"getHungerMeter",value:function(){return this.hungerMeter}},{key:"setFoodMethods",value:function(t,e){this.removeFood=t,this.requestFood=e}},{key:"getSavingState",value:function(){return{left:this.left,top:this.top,breed:this.breed,hungerMeter:this.hungerMeter,prevHeight:this.prevHeight,prevWidth:this.prevWidth,id:this.id}}},{key:"hasFood",value:function(){return!!this.food}},{key:"isHungry",value:function(){return this.hungerMeter>30}},{key:"searchForFood",value:function(){this.requestFood&&(this.food=this.requestFood({left:this.left,top:this.top}),this.food&&(this.hasRequestedFood=!0))}},{key:"clearFood",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.hasRequestedFood=!1,this.food&&this.removeFood&&(this.food.hasFinished()?this.removeFood(this.food.id):t&&this.food.stopEating(this.id),this.food=void 0)}},{key:"updateFoodMeter",value:function(){this.state!==n.eating?(this.timestamp-this.lastHungerIncrease>=6e4&&(this.hungerMeter=Math.min(this.hungerMeter+1,100),this.lastHungerIncrease=this.timestamp),this.isHungry()&&!this.hasRequestedFood&&this.searchForFood()):this.lastHungerIncrease=0}},{key:"draw",value:function(t){t.drawImage(this.currentImg,0,0,this.currentImg.naturalWidth,this.currentImg.naturalHeight,this.left*this.widthChangeRatio,this.top*this.heightChangeRatio,this.currentImg.naturalWidth,this.currentImg.naturalHeight)}},{key:"walkRandomly",value:function(){var t=Math.round(1*Math.random()),e=Math.round(1*Math.random());this.goToCoordinates(t,e),this.walk()}},{key:"getFoodDistance",value:function(){if(this.food)return{dx:this.food.left-this.left*this.widthChangeRatio,dy:this.food.top-this.top*this.heightChangeRatio}}},{key:"walkToFood",value:function(){var t=this.getFoodDistance();if(!this.food||!this.food.isAvailable()||this.food.hasFinished()||!t)return this.clearFood(!1),void this.walkRandomly();this.goToCoordinates(t.dx,t.dy),this.walk()}},{key:"goToCoordinates",value:function(t,e){this.top=e>0?Math.min(this.top+2,this.height-this.currentImg.naturalHeight):Math.max(this.top-2,0),this.left=t>0?Math.min(this.left+2,this.width-this.currentImg.naturalWidth):Math.max(this.left-2,0)}},{key:"updateState",value:function(t){this.state=t}},{key:"eat",value:function(){this.food&&(this.food.startEating(this.id),this.hungerMeter=Math.max(this.hungerMeter-1,0),this.food.updateFoodMeter(),this.hungerMeter&&!this.food.hasFinished()||this.clearFood())}},{key:"walk",value:function(){this.currentImg=this.imgs[this.imgIndex],this.imgIndex=this.imgIndex+1>=this.imgs.length-1?0:this.imgIndex+1}},{key:"rest",value:function(){var t,e;this.currentImg=this.imgs[this.imgs.length-1],this.restingTurns=this.restingTurns?Math.max(this.restingTurns-1,0):(t=10,e=this.fps,Math.round(t*e))}},{key:"shouldRest",value:function(){return this.restingTurns||!this.restingTurns&&100*Math.random()<(t=20,e=this.fps,Math.round(t/e));var t,e}},{key:"hasReachedFood",value:function(){var t=this.getFoodDistance();return t&&Math.abs(t.dx)<=2&&Math.abs(t.dy)<=2}}]),t}(),nt=function(){function t(e){var i=e.img,n=e.top,o=e.left;Object(X.a)(this,t),this.img=void 0,this.top=void 0,this.left=void 0,this.id=_(),this.img=i,this.top=n,this.left=o}return Object(q.a)(t,[{key:"update",value:function(t){this.draw(t)}},{key:"draw",value:function(t){t.drawImage(this.img,0,0,this.img.naturalWidth,this.img.naturalHeight,this.left,this.top,this.img.naturalWidth,this.img.naturalHeight)}}]),t}();!function(t){t.brown="brown",t.orange="orange",t.yellow="yellow"}($||($={})),function(t){t.chickens="chickens",t.food="food"}(et||(et={}));var ot=(tt={},Object(A.a)(tt,et.chickens,null),Object(A.a)(tt,et.food,null),tt),rt=function(t){try{var e=window.localStorage.getItem(t);if(null===e)throw Error;return JSON.parse(e)}catch(i){return ot[t]}},at=30,st=function(){function t(e){var i=e.imgs,n=e.top,o=e.left,r=e.foodMeter,a=e.id,s=e.width,A=e.height,h=e.prevHeight,c=e.prevWidth;Object(X.a)(this,t),this.prevWidth=void 0,this.prevHeight=void 0,this.imgs=void 0,this.foodMeter=void 0,this.animalsEating=[],this.originalTop=void 0,this.originalLeft=void 0,this.top=void 0,this.left=void 0,this.id=void 0,this.imgs=i,this.prevWidth=c||s,this.prevHeight=h||A,this.originalTop=n,this.originalLeft=o,this.top=Math.round(n*A/this.prevHeight),this.left=Math.round(o*s/this.prevWidth),this.foodMeter=r||0===r?r:at,this.id=a||_()}return Object(q.a)(t,[{key:"update",value:function(t){this.draw(t,this.getImg())}},{key:"getSavingState",value:function(){return{top:this.originalTop,left:this.originalLeft,foodMeter:this.foodMeter,id:this.id,prevHeight:this.prevHeight,prevWidth:this.prevWidth}}},{key:"updateFoodMeter",value:function(){this.foodMeter=Math.max(this.foodMeter-1,0)}},{key:"hasFinished",value:function(){return!this.foodMeter}},{key:"isAvailable",value:function(){return this.animalsEating.length<=3}},{key:"startEating",value:function(t){this.animalsEating.includes(t)||this.animalsEating.push(t)}},{key:"stopEating",value:function(t){var e=this.animalsEating.indexOf(t);-1!==e&&this.animalsEating.splice(e,1)}},{key:"getImg",value:function(){return this.foodMeter<=10?this.imgs[0]:this.foodMeter<=20?this.imgs[1]:this.imgs[2]}},{key:"draw",value:function(t,e){t.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,this.left,this.top,e.naturalWidth,e.naturalHeight)}}]),t}();function At(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function ht(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?At(i,!0).forEach(function(e){Object(A.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):At(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var ct,gt=function(){var t=Object(b.a)(w.a.mark(function t(){return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z([W.a,H.a,T.a]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),ut=function(){var t=Object(b.a)(w.a.mark(function t(e,i){var n,o,r;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z([V.a,L.a]);case 2:return n=t.sent,r=[o={top:.2*i,left:.2*e},{top:o.top+30,left:o.left+70}],t.abrupt("return",n.map(function(t,e){return new nt({img:t,top:r[e].top,left:r[e].left})}));case 7:case"end":return t.stop()}},t)}));return function(e,i){return t.apply(this,arguments)}}(),dt=function(){var t=Object(b.a)(w.a.mark(function t(e,i){var n,o,r,a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([z([k.a,E.a,y.a]),z([B.a,F.a,P.a]),z([R.a,N.a,U.a])]);case 2:if(o=t.sent,n={},Object(A.a)(n,$.brown,o[0]),Object(A.a)(n,$.orange,o[1]),Object(A.a)(n,$.yellow,o[2]),r=n,a=rt(et.chickens)){t.next=7;break}return t.abrupt("return",Object.keys($).map(function(t){return new it({width:e,height:i,imgs:r[t],breed:t})}));case 7:return t.abrupt("return",a.map(function(t){return new it(ht({width:e,height:i,imgs:r[t.breed]},t))}));case 8:case"end":return t.stop()}},t)}));return function(e,i){return t.apply(this,arguments)}}(),ft=i(32);!function(t){t[t.setObjects=0]="setObjects",t[t.addFood=1]="addFood",t[t.setFood=2]="setFood",t[t.removeFood=3]="removeFood",t[t.setChickens=4]="setChickens",t[t.toggleFeeding=5]="toggleFeeding",t[t.toggleDragging=6]="toggleDragging",t[t.toggleInfo=7]="toggleInfo"}(ct||(ct={}));var lt=function(){return{type:ct.toggleFeeding}};function pt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function mt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?pt(i,!0).forEach(function(e){Object(A.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):pt(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var vt={objects:[],food:[],chickens:[],isFeeding:!1,isDragging:!1,isInfoOpen:!1},wt=function(t,e){switch(e.type){case ct.setChickens:return mt({},t,{chickens:e.payload.chickens});case ct.setFood:return mt({},t,{food:e.payload.food});case ct.addFood:return mt({},t,{food:[].concat(Object(ft.a)(t.food),[e.payload.food])});case ct.removeFood:return mt({},t,{food:t.food.filter(function(t){return t.id!==e.payload.id})});case ct.setObjects:return mt({},t,{objects:e.payload.objects});case ct.toggleDragging:return mt({},t,{isDragging:!t.isDragging});case ct.toggleFeeding:return mt({},t,{isFeeding:!t.isFeeding});case ct.toggleInfo:return mt({},t,{isInfoOpen:!t.isInfoOpen});default:return t}},bt=i(30),It=i.n(bt),kt=function(t){var e=t.resizedWidth,i=t.resizedHeight,n=t.objects,a=t.food,s=Object(o.useRef)(null);return Object(o.useEffect)(function(){!function(t){var e=t.canvasRef,i=t.objects,n=t.food,o=t.resizedWidth,r=t.resizedHeight;if(e.current){var a=e.current.getContext("2d");a&&(a.imageSmoothingEnabled=!1,a.clearRect(0,0,o,r),i.forEach(function(t){return t.update(a)}),n.forEach(function(t){return t.update(a)}))}}({canvasRef:s,resizedWidth:e,resizedHeight:i,objects:n,food:a})},[e,i,n,a]),r.a.createElement("canvas",{ref:s,width:e,height:i,className:It.a.canvas})},Mt=i(3),Et=i.n(Mt),jt=i(12),yt=i.n(jt),Ot=function(t){var e=t.chickens,i=t.isOpen,n=Object(o.useState)(0),a=Object(h.a)(n,2)[1];return Object(o.useEffect)(function(){var t=0;return i&&(t=window.setInterval(function(){return a(Date.now())},1e3)),function(){return window.clearInterval(t)}},[i]),r.a.createElement("div",{className:yt.a.info},r.a.createElement("h3",{className:yt.a.title},"Hunger"),function(t){return t.sort(function(t,e){return e.getHungerMeter()-t.getHungerMeter()}).map(function(t,e){return r.a.createElement("p",{key:e},t.getBreed()," chicken: ",t.getHungerMeter())})}(e))},Bt=function(t){var e=t.isInfoOpen,i=t.isFeeding,n=t.chickens,o=t.dispatch;return r.a.createElement("div",{className:d()(Et.a.menu,e&&Et.a.visible)},r.a.createElement("div",{className:Et.a.toolBar},r.a.createElement("button",{className:d()(Et.a.farmButton,e&&Et.a.active),onClick:function(t){t.stopPropagation(),o({type:ct.toggleInfo})}},r.a.createElement("img",{src:R.a,alt:"info"})),r.a.createElement("button",{className:d()(Et.a.farmButton,i&&Et.a.active),onClick:function(t){t.stopPropagation(),o(lt())}},r.a.createElement("img",{src:W.a,alt:"food"}))),r.a.createElement(Ot,{chickens:n,isOpen:e}))},Ct=i(31),Ft=i.n(Ct),Gt=function(t){var e=t.resizedWidth,i=t.resizedHeight,n=t.chickens,a=t.toggleDragging,s=t.dropFood,A=Object(o.useRef)(null),h=Object(o.useRef)(0),c=Object(o.useCallback)(function(t){s(t),a(t)},[s,a]);return Object(o.useEffect)(function(){!function(t){var e=t.canvasRef,i=t.resizedWidth,n=t.resizedHeight,o=t.chickens,r=t.animationIdRef;if(e.current){var a=e.current.getContext("2d");if(a){var s=0;a.imageSmoothingEnabled=!1,window.cancelAnimationFrame(r.current);!function t(e){window.cancelAnimationFrame(r.current),++s<15?r.current=window.requestAnimationFrame(t):(s=0,a.clearRect(0,0,i,n),o.forEach(function(t){t.update(a,e)}),r.current=window.requestAnimationFrame(t))}(performance.now())}}}({canvasRef:A,resizedWidth:e,resizedHeight:i,animationIdRef:h,chickens:n})},[e,i,h,n]),r.a.createElement("canvas",{ref:A,width:e,height:i,className:Ft.a.canvas,onTouchStart:a,onTouchEnd:c,onTouchMove:s,onMouseDown:a,onMouseUp:c,onMouseMove:s})},Pt=function(t,e){return Math.sqrt(Math.pow(Math.abs(t.left-e.left),2)+Math.pow(Math.abs(t.top-e.top),2))};function Qt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}var Rt=function(t,e,i,n,o,r){Promise.all([ut(t,e),dt(t,e),gt()]).then(function(a){var s=Object(h.a)(a,3),A=s[0],c=s[1],g=s[2];i(A),n(c),o(g),r(function(t,e,i){var n=rt(et.food);return n?n.map(function(n){return new st(ht({},n,{imgs:t,width:e,height:i}))}):[]}(g,t,e))})},Dt=g()(function(t){var e=t.imgs,i=t.left,n=t.top,o=t.addFood,r=t.width,a=t.height;o(new st({imgs:e,top:Math.round(n/2),left:Math.round(i/2),width:r,height:a}))},100,{leading:!0,trailing:!1}),Nt=function(t,e){var i=e.filter(function(e){return e.isAvailable()&&Pt(t,e)<150});if(i.length)return function(t){var e,i=t.items,n=t.left,o=t.top,r=1/0;return i.forEach(function(t){var i=Pt({left:n,top:o},t);i<r&&(r=i,e=t)}),e}(function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Qt(i,!0).forEach(function(e){Object(A.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Qt(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({items:i},t))},xt=function(t,e){var i=e.map(function(t){return t.getSavingState()});i.length&&function(t,e){try{window.localStorage.setItem(t,JSON.stringify(e))}catch(i){console.error("Not possible to set item",t,"in local storage")}}(t,i)},Ut=function(t,e){var i=setInterval(function(){return xt(t,e)},5e3);return function(){xt(t,e),clearInterval(i)}},Yt=function(t){return t.type.includes("touch")},Wt=Object(o.memo)(function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Object(o.useState)({width:window.innerWidth,height:window.innerHeight}),i=Object(h.a)(e,2),n=i[0],r=n.width,a=n.height,s=i[1];return Object(o.useEffect)(function(){var t=m()(function(){s({width:window.innerWidth,height:window.innerHeight})},500,{trailing:!0,leading:!1});return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}},[]),{resizedWidth:r/t,resizedHeight:a/t}}(2),e=t.resizedWidth,i=t.resizedHeight,n=Object(o.useReducer)(wt,vt),a=Object(h.a)(n,2),s=a[0],A=s.isDragging,c=s.isFeeding,g=s.isInfoOpen,u=s.objects,f=s.chickens,p=s.food,v=a[1],w=Object(o.useState)([]),b=Object(h.a)(w,2),I=b[0],k=b[1],M=Object(o.useCallback)(function(t){return v(function(t){return{type:ct.addFood,payload:{food:t}}}(t))},[v]),E=Object(o.useCallback)(function(t){return v(function(t){return{type:ct.setFood,payload:{food:t}}}(t))},[v]),j=Object(o.useCallback)(function(t){return v(function(t){return{type:ct.removeFood,payload:{id:t}}}(t))},[v]),y=Object(o.useCallback)(function(t){return Nt(t,p)},[p]),O=Object(o.useCallback)(function(t){if(t.persist(),t.stopPropagation(),c&&I.length&&A){var n,o;if(Yt(t)){if(1!==t.touches.length)return;n=t.touches[0].clientX,o=t.touches[0].clientY}else t.preventDefault(),n=t.clientX,o=t.clientY;Dt({left:n,top:o,imgs:I,addFood:M,width:e,height:i})}},[c,I,A,M,i,e]),B=Object(o.useCallback)(function(t){t.stopPropagation(),Yt(t)||t.preventDefault(),v({type:ct.toggleDragging})},[v]);return Object(o.useEffect)(function(){return function(t,e,i){t.forEach(function(t){t.setFoodMethods(e,i)})}(f,j,y)},[f,j,y]),Object(o.useEffect)(function(){return function(t,e){var i=function(i){"Escape"===i.code&&e&&t()};return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}}(function(){return v(lt())},c)},[v,c]),Object(o.useEffect)(function(){return Rt(e,i,function(t){return v(function(t){return{type:ct.setObjects,payload:{objects:t}}}(t))},function(t){return v(function(t){return{type:ct.setChickens,payload:{chickens:t}}}(t))},k,E)},[v,e,i,k,E]),Object(o.useEffect)(function(){return Ut(et.chickens,f)},[f,i,e]),Object(o.useEffect)(function(){return Ut(et.food,p)},[p,i,e]),r.a.createElement("div",{className:d()(l.a.wrapper,c&&l.a.feeding)},r.a.createElement("div",{className:l.a.bg}),r.a.createElement(kt,{resizedWidth:e,resizedHeight:i,objects:u,food:p}),r.a.createElement(Gt,{resizedWidth:e,resizedHeight:i,chickens:f,toggleDragging:B,dropFood:O}),r.a.createElement(Bt,{isInfoOpen:g,isFeeding:c,chickens:f,dispatch:v}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Wt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[33,1,2]]]);
//# sourceMappingURL=main.f525181a.chunk.js.map