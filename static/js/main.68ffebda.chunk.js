(window["webpackJsonpidle-chicken-farm"]=window["webpackJsonpidle-chicken-farm"]||[]).push([[0],[,,,function(t,e,n){t.exports={menu:"menu_menu__2vPAR",visible:"menu_visible__3jm2d",toolBar:"menu_toolBar__jeKpg",farmButton:"menu_farmButton__3Te1g",active:"menu_active__21Ixu"}},,,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA2UlEQVQ4T2NkwAIstWT+H7/2hBGbHLIYhgKQxqQP7xjmCQgxEDIARTNM4x0pcYZD337TSTPI1m29kQwMijoQb92/wuBVvByv7XBngzWva2XwCqoG64Wx8fkbrBmssYkHYqNOJTxAQQYha0aPBQybUaIH6nSYGLprEDava4X7Fezv+1cgfFgYIJkKcxFCMzSwQBIgG0AAg42kBuQdVM0gDcXL4ZpRDEDyAiwcUP2MZDLcnyAxqPPRAxAjhYHjGgvAFudY0zY4npt4GLzqvsBpbPGNNefA4p2QZgCIpZgQUlRE4QAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAYUlEQVQ4T2NkoBAwUqifYQgYwMbG8R/kzV+/fmB1LV4vgDRPu2rNYCWuyGAgsgSrIQTDgCIXEBNDGC4gZCO6oSgG4PMzLoOJcgE+gwkGIszJRLuAmIBDVkO0C3AZPPAGAAD7jC0R4as9ogAAAABJRU5ErkJgggAA"},function(t,e,n){t.exports={wrapper:"farm_wrapper__3IXTL",bg:"farm_bg__3rsuD",feeding:"farm_feeding__3K0PI"}},,function(t,e,n){t.exports={info:"info_info__rQiOK",title:"info_title__vsvEd"}},,,,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAPhJREFUKBWNkTEOAVEQhofQiF6CSkMUW9M4wB5D7RTO4BjqPYCGWiGRiIoWlUax9pvsbOZtXsIkm52Z9////G+eyB8xnw7zGKwZa/oexOXrITGBn2SELv2exAT+InsnPm/4op5jddFpS5KM9Oh4vMru/ZH96aa8n5Mhbg5n/UzEhgTk2FIArmZj/dL0Ltm6Wy2vZSoQARVRPQuWfWTZQB2YbfXuiB4r3JHALrnZ5hoIBLYBcGDBcoxATpggudoubahds4pIeQ1wGp5II3gqs28gmwYQIfr+qQIyIARsOrUPT/T9IEfguZ3k/k8egIoiWFj90Nf2PL73BVmidJM6U/0/AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA2UlEQVQ4T2NkoAAwEqPXUkvm//FrTzDUEtQM0pj04R3DPAEhBnQDiNJsx8XKoPLsJYYBtNMMcjLIVj09JXDQXLp0j+HQt99w5+O1GaQ5x0KdYcqJm2DNMDbM7yia0UMVphkWI15eT8FMr7ovYNvhmtFtASlCdjLMAJArUGxGtwGmEORHEAD5GcSG+R1mANhmmGZYgID8BgIgRehs5EBDcTayU5E1wgwCeQMEYCGOEWAwBTBFMC+AXEAwqkBeAGnY1sQDDlUYDTMEOYlixDNIM0wDSCE6HzkjAQALWZgQQhdf+AAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAxklEQVQ4T2NkoAAwUqCXgSjNlloy/49fe4KhlqBmkMakD+8Y5gkIMaAbQJRmOy5WBpVnLzEMoJ1mkJNBturpKYHD9dKlewyHvv2GOx/FZvSAAfFzLNQZppy4CdYMY8P8DteMrhCmGDkqvbyegrledV/AtoM1wzSixznImSAAcjaIDaJBrkCxGaYZ5ieQ80AApBAXG24zzHYQDQsgZI3IBiEHGkaAgWyCORcUsjAAE8cZ2jAXgGzHBpA1guSxJhJQGGDTjJ48Ae0WhxAxBBGoAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA/0lEQVQ4T2NkIAJYasn8P37tCSO6UgwBdAUgjUkf3jHMExBiQDeAKM12XKwMKs9eYhhAO80gJ28T+MDAoK8M8c3FuwxeHwTgzsdrM1izvTCD18G3YL0wNszvKJrRQxWmGR6Izj/BTK+6L2Db4ZpBCt9Z+TAIHdsCV4viZKgoyBUoNsM0okfTiWtLIEIgP1+8C6dh/gbbDNP88fZFBsXXjxlALgi4sJPh0LffYH+CnXrwLQPIJZqsumA1GM4GKbovKsvAr6oPdj5MIyyUQXIggKEZ2QUgNswVMK+AXAMTwxra2AxADgeYjTAxrPEMjqImHnCUwGiQBqLSNjbN2HIVALxhoxCi5+fxAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAARRJREFUKBW1UbGOQUEUPSs220hWyEYiFKKxm4jaNgqd+Aq9n/AtSqW8TqFBq6FAFHSCt6WKOZeZ3PcyCc3eZN67c2bOuefeAf476j+Fq69GwgdqjMROeIJP4CmZQut8Dj6Bl8jaic7f9Cae02qQDoFa+X4036AVpjFd7IX3vLIhtsZHWU7kUSVC9g2F94JGVhaaFwS9lBte8iEiwOm3jTqG7lnEMrL2CjD6EAfWtnhnRRLjMVv07xB7Nv2KbdV3xPbfao7MZOg0OBzbp+SG+P1ededimzZoN2Pg7VcRn+ZPEfaqQxOJR56K9km2UTrsbAq2RWfEbM8R2wR5yLXsnoXI6TLoRBMFjH9Y/TyoXO2zxff6/g0TmXObC3ZmMAAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA40lEQVQ4T2NkoAAwUqCXAatmSy2Z/8evPSFoMIYCkMakD+8Y5gkIMRAyAEUzTOMdKXGGQ99+00kzyNZtAh8YGPSVIWF48S6D1wcBvLbDnQ3WbC/M4HXwLVgvjI3sb/SABGsGa2zigdi4lx0l9mCGgQTfWfkwCB3bAncNhs0g54KdDqIZGBgstGIwkgLMALjNIFNPsB4HOxvkZBAAsUHiIADScF9UloFfVR9uO1wzsgRMM7IBH29fZFB8/RhsECwcUJyNbADMrSAxEEC2ESaHkUhgitE9CrIVPcVhTZ7YMgu2pAoAZ9iDEPlbDrYAAAAASUVORK5CYIIA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA3ElEQVQ4T2NkoAAwYtNrqSXz//i1J1jlkNVjKABpTPrwjmGegBADIQNQNMM03pESZzj07TedNINs3dYbycCgqAPx1v0rDF7Fy/HaDnc2WPO6VgavoGqwXhgbn7/BmsEam3ggNupUwgMUZBCyZvRYwLAZJeqgToeJobsGYfO6Vrhfwf6+fwXCh4UBkqkwFyE0QwMLJAGyAQQw2EhqQN5B1QzSULwcrhnFACQvwMIB1c9IJsP9CRKDAvSow0hhcE1NPAxedV8YQLEAokEAPdqwpm2YBpBiWDSCDEDXDAAJCpUQ3ocHKgAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAAxElEQVQ4T2NkoAAwUqCXAatmSy2Z/8evPSFoMIYCkMakD+8Y5gkIMRAyAEUzTOMdKXGGQ99+00kzyNZtvZEMDIo6kDC8f4XBq3g5XtvhzgZrXtfK4BVUDdYLYyP7Gz0gwZrBGpt4IDbqVKLEHswwbAZi2AxyLtjpIBoEYN5AMhJkIMhFCJvXtYKlQRIgJ2NlQ8MEUzOSBEwzigHQAASJwcIB1dlIBsBcCY4BqPNhNsLkMBIJXDFaoscWbViTJ7bMgi2pAgArfH8QF4tK0wAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAc0lEQVQ4T2NkoBAwUqifAcUANjaO/yADf/36QbTBcIUgzdOuWjNYiSsyGIgswWoINguIdgEuC4h2KshrBF2AHKDEhgdWFxATHjDLcHqBIhdgSxu4DCQqEPF5iaRoxJbISEpI2LxGtAtw5RmiwgBfhqPYAACig0sRfRXPlAAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiElEQVQ4T2NkQANsbBz/QUK/fv1gRJfDxkdRBNI87ao1g5W4IoOByBKiDMGwhRgXIKshypnITkd3JdwAbDbjcg2GC7D5ndjwIMkF2FxEVBjANGKLIawGINuE7hX0NII1GtFtwhe1BF1AKDUSFQYwQ4gKRHxxTzAQcaUHWMCR7AJiEhPBMCCUuQCBBIskpUxGvgAAAABJRU5ErkJgggAA"},function(t,e){t.exports="data:image/png;base64,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"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAANCAYAAADISGwcAAABCUlEQVQ4T2NkQANsbBz/0cWoyf/16wcjsnkoHJDlusaW1LQPw6zLZ48zIDsC7gCY5eLSimBNyoraVHXI3ftXwea9fHqfAdkRYAcgWw5S8PC3MoOIRgJVHcB9txZsHsiDyI5gJMbyGHsFhiUHHzCAaGQAEwPRMICuFlnuzY0FDPKsdxmsbHwYjh3ZAg4JuANgBoB8DwPUCgWQxTAAcgByKMAdEBGVx7Bi2SSqBjsuw2B2oYQAKFjk5JTo4oBHj+5hjwKQI+gBQPEPAuAQQM4F9LAcZgcsK2LNhiBJEAAVSjA2uY5DNgPExsiGMINh2RG5kACJ/UIrOkl1CLIZ2OzAKIoptZCQA9E9BQB8PqttWv0ktAAAAABJRU5ErkJgggAA"},function(t,e,n){t.exports={canvas:"staticCanvas_canvas__YAp_u"}},function(t,e,n){t.exports={canvas:"dynamicCanvas_canvas__3o8Eh"}},,function(t,e,n){t.exports=n(40)},,,,,function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var i,o=n(0),r=n.n(o),a=n(15),s=n.n(a),A=(n(38),n(1)),c=n(2),g=n(16),u=n.n(g),h=n(7),d=n.n(h),f=n(10),l=n.n(f),m=n(17),p=n.n(m),w=n(4),b=n.n(w),v=n(11),I=n(18),k=n.n(I),M=n(19),E=n.n(M),j=n(20),y=n.n(j),O=n(21),B=n.n(O),G=n(22),C=n.n(G),F=n(23),P=n.n(F),Q=n(8),N=n.n(Q),D=n(24),x=n.n(D),R=n(25),U=n.n(R),Y=n(9),S=n.n(Y),J=n(26),W=n.n(J),z=n(27),Z=n.n(z),T=function(t){return Promise.all(t.map(function(t){return function(t){return new Promise(function(e){var n=new Image;n.src=t,n.onload=function(){return e(n)},n.onerror=function(){return e()}})}(t)})).then(function(t){return t.filter(Boolean)})},V=n(28),H=n.n(V),K=n(29),L=n.n(K),X=n(5),q=n(6),_=function(){return Math.random().toString(36).substr(2,9)},$=function(t){return 4*t},tt=$(10),et=$(72);!function(t){t[t.eating=0]="eating",t[t.walkingToFood=1]="walkingToFood",t[t.walking=2]="walking",t[t.resting=3]="resting"}(i||(i={}));var nt,it,ot=function(){function t(e){var n=e.imgs,o=e.width,r=e.height,a=e.breed,s=e.top,A=e.left,c=e.hungerMeter;Object(X.a)(this,t),this.imgs=void 0,this.width=void 0,this.height=void 0,this.imgIndex=0,this.top=void 0,this.left=void 0,this.currentImg=void 0,this.frames=0,this.breed=void 0,this.state=i.walking,this.restingTurns=0,this.food=void 0,this.hungerMeter=void 0,this.hasRequestedFood=!1,this.removeFood=void 0,this.requestFood=void 0,this.id=_(),this.imgs=n,this.width=o,this.height=r,this.currentImg=this.imgs[this.imgIndex],this.top=s||Math.round(Math.random()*(this.height-this.imgs[0].naturalHeight)),this.left=A||Math.round(Math.random()*(this.width-this.imgs[0].naturalWidth)),this.breed=a,this.hungerMeter=c||0}return Object(q.a)(t,[{key:"update",value:function(t){this.hasFood()?this.hasReachedFood()?(this.updateState(i.eating),this.eat()):(this.updateState(i.walkingToFood),this.walkToFood()):this.shouldRest()?(this.updateState(i.resting),this.rest()):(this.updateState(i.walking),this.walkRandomly()),this.frames++,this.state!==i.eating&&this.updateFoodMeter(),this.draw(t)}},{key:"getBreed",value:function(){return this.breed}},{key:"getHungerMeter",value:function(){return this.hungerMeter}},{key:"setFoodMethods",value:function(t,e){this.removeFood=t,this.requestFood=e}},{key:"getSavingState",value:function(){return{left:this.left,top:this.top,breed:this.breed,hungerMeter:this.hungerMeter}}},{key:"hasFood",value:function(){return!!this.food}},{key:"isHungry",value:function(){return this.hungerMeter>30}},{key:"searchForFood",value:function(){this.requestFood&&(this.food=this.requestFood({left:this.left,top:this.top}),this.food&&(this.hasRequestedFood=!0))}},{key:"clearFood",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.hasRequestedFood=!1,this.food&&this.removeFood&&(this.food.hasFinished()?this.removeFood(this.food.id):t&&this.food.stopEating(this.id),this.food=void 0)}},{key:"updateFoodMeter",value:function(){this.frames/et%1===0&&(this.hungerMeter=Math.min(this.hungerMeter+1,100)),this.isHungry()&&!this.hasRequestedFood&&this.searchForFood()}},{key:"draw",value:function(t){t.drawImage(this.currentImg,0,0,this.currentImg.naturalWidth,this.currentImg.naturalHeight,this.left,this.top,this.currentImg.naturalWidth,this.currentImg.naturalHeight)}},{key:"walkRandomly",value:function(){var t=Math.round(1*Math.random()),e=Math.round(1*Math.random());this.goToCoordinates(t,e),this.walk()}},{key:"walkToFood",value:function(){if(!this.food||!this.food.isAvailable()||this.food.hasFinished())return this.clearFood(!1),void this.walkRandomly();var t=this.food.left-this.left,e=this.food.top-this.top;this.goToCoordinates(t,e),this.walk()}},{key:"goToCoordinates",value:function(t,e){this.top=e>0?Math.min(this.top+2,this.height-this.currentImg.naturalHeight):Math.max(this.top-2,0),this.left=t>0?Math.min(this.left+2,this.width-this.currentImg.naturalWidth):Math.max(this.left-2,0)}},{key:"updateState",value:function(t){this.state=t}},{key:"eat",value:function(){this.food&&(this.food.startEating(this.id),this.hungerMeter=Math.max(this.hungerMeter-1,0),this.food.updateFoodMeter(),this.hungerMeter&&!this.food.hasFinished()||this.clearFood())}},{key:"walk",value:function(){this.currentImg=this.imgs[this.imgIndex],this.imgIndex=this.imgIndex+1>=this.imgs.length-1?0:this.imgIndex+1}},{key:"rest",value:function(){this.currentImg=this.imgs[this.imgs.length-1],this.restingTurns=this.restingTurns?Math.max(this.restingTurns-1,0):tt}},{key:"shouldRest",value:function(){return this.restingTurns||!this.restingTurns&&100*Math.random()<5}},{key:"hasReachedFood",value:function(){if(!this.food)return!1;var t=this.food.left-this.left,e=this.food.top-this.top;return Math.abs(t)<=2&&Math.abs(e)<=2}}]),t}(),rt=function(){function t(e){var n=e.img,i=e.top,o=e.left;Object(X.a)(this,t),this.img=void 0,this.top=void 0,this.left=void 0,this.id=_(),this.img=n,this.top=i,this.left=o}return Object(q.a)(t,[{key:"update",value:function(t){this.draw(t)}},{key:"draw",value:function(t){t.drawImage(this.img,0,0,this.img.naturalWidth,this.img.naturalHeight,this.left,this.top,this.img.naturalWidth,this.img.naturalHeight)}}]),t}();!function(t){t.brown="brown",t.orange="orange",t.yellow="yellow"}(nt||(nt={})),function(t){t.chickens="chickens"}(it||(it={}));var at=Object(A.a)({},it.chickens,null),st=function(t){try{var e=window.localStorage.getItem(t);if(null===e)throw Error;return JSON.parse(e)}catch(n){return at[t]}};function At(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(n,!0).forEach(function(e){Object(A.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var gt,ut=function(){var t=Object(v.a)(b.a.mark(function t(){return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T([S.a,W.a,Z.a]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),ht=function(){var t=Object(v.a)(b.a.mark(function t(){var e,n;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T([H.a,L.a]);case 2:return e=t.sent,n=[{top:100,left:100},{top:120,left:170}],t.abrupt("return",e.map(function(t,e){return new rt({img:t,top:n[e].top,left:n[e].left})}));case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),dt=function(){var t=Object(v.a)(b.a.mark(function t(e,n){var i,o,r,a;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([T([k.a,E.a,y.a]),T([B.a,C.a,P.a]),T([N.a,x.a,U.a])]);case 2:if(o=t.sent,i={},Object(A.a)(i,nt.brown,o[0]),Object(A.a)(i,nt.orange,o[1]),Object(A.a)(i,nt.yellow,o[2]),r=i,a=st(it.chickens)){t.next=7;break}return t.abrupt("return",Object.keys(nt).map(function(t){return new ot({width:e,height:n,imgs:r[t],breed:t})}));case 7:return t.abrupt("return",a.map(function(t){return new ot(ct({width:e,height:n,imgs:r[t.breed]},t))}));case 8:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),ft=n(32);!function(t){t[t.setObjects=0]="setObjects",t[t.addFood=1]="addFood",t[t.removeFood=2]="removeFood",t[t.setChickens=3]="setChickens",t[t.toggleFeeding=4]="toggleFeeding",t[t.toggleDragging=5]="toggleDragging",t[t.toggleInfo=6]="toggleInfo"}(gt||(gt={}));var lt=function(){return{type:gt.toggleFeeding}};function mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(n,!0).forEach(function(e){Object(A.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var wt={objects:[],food:[],chickens:[],isFeeding:!1,isDragging:!1,isInfoOpen:!1},bt=function(t,e){switch(e.type){case gt.setChickens:return pt({},t,{chickens:e.payload.chickens});case gt.addFood:return pt({},t,{food:[].concat(Object(ft.a)(t.food),[e.payload.food])});case gt.removeFood:return pt({},t,{food:t.food.filter(function(t){return t.id!==e.payload.id})});case gt.setObjects:return pt({},t,{objects:e.payload.objects});case gt.toggleDragging:return pt({},t,{isDragging:!t.isDragging});case gt.toggleFeeding:return pt({},t,{isFeeding:!t.isFeeding});case gt.toggleInfo:return pt({},t,{isInfoOpen:!t.isInfoOpen});default:return t}},vt=30,It=function(){function t(e){var n=e.imgs,i=e.top,o=e.left;Object(X.a)(this,t),this.imgs=void 0,this.foodMeter=vt,this.animalsEating=[],this.top=void 0,this.left=void 0,this.id=_(),this.imgs=n,this.top=i,this.left=o}return Object(q.a)(t,[{key:"update",value:function(t){this.draw(t,this.getImg())}},{key:"updateFoodMeter",value:function(){this.foodMeter=Math.max(this.foodMeter-1,0)}},{key:"hasFinished",value:function(){return!this.foodMeter}},{key:"isAvailable",value:function(){return this.animalsEating.length<=3}},{key:"startEating",value:function(t){this.animalsEating.includes(t)||this.animalsEating.push(t)}},{key:"stopEating",value:function(t){var e=this.animalsEating.indexOf(t);-1!==e&&this.animalsEating.splice(e,1)}},{key:"getImg",value:function(){return this.foodMeter<=10?this.imgs[0]:this.foodMeter<=20?this.imgs[1]:this.imgs[2]}},{key:"draw",value:function(t,e){t.drawImage(e,0,0,e.naturalWidth,e.naturalHeight,this.left,this.top,e.naturalWidth,e.naturalHeight)}}]),t}(),kt=n(30),Mt=n.n(kt),Et=function(t){var e=t.resizedWidth,n=t.resizedHeight,i=t.objects,a=t.food,s=Object(o.useRef)(null);return Object(o.useEffect)(function(){!function(t){var e=t.canvasRef,n=t.objects,i=t.food,o=t.resizedWidth,r=t.resizedHeight;if(e.current){var a=e.current.getContext("2d");a&&(a.imageSmoothingEnabled=!1,a.clearRect(0,0,o,r),n.forEach(function(t){return t.update(a)}),i.forEach(function(t){return t.update(a)}))}}({canvasRef:s,resizedWidth:e,resizedHeight:n,objects:i,food:a})},[e,n,i,a]),r.a.createElement("canvas",{ref:s,width:e,height:n,className:Mt.a.canvas})},jt=n(3),yt=n.n(jt),Ot=n(12),Bt=n.n(Ot),Gt=function(t){var e=t.chickens,n=t.isOpen,i=Object(o.useState)(0),a=Object(c.a)(i,2)[1];return Object(o.useEffect)(function(){var t=0;return n&&(t=window.setInterval(function(){return a(Date.now())},1e3)),function(){return window.clearInterval(t)}},[n]),r.a.createElement("div",{className:Bt.a.info},r.a.createElement("h3",{className:Bt.a.title},"Hunger"),function(t){return t.sort(function(t,e){return e.getHungerMeter()-t.getHungerMeter()}).map(function(t,e){return r.a.createElement("p",{key:e},t.getBreed()," chicken: ",t.getHungerMeter())})}(e))},Ct=function(t){var e=t.isInfoOpen,n=t.isFeeding,i=t.chickens,o=t.dispatch;return r.a.createElement("div",{className:d()(yt.a.menu,e&&yt.a.visible)},r.a.createElement("div",{className:yt.a.toolBar},r.a.createElement("button",{className:d()(yt.a.farmButton,e&&yt.a.active),onClick:function(t){t.stopPropagation(),o({type:gt.toggleInfo})}},r.a.createElement("img",{src:N.a,alt:"info"})),r.a.createElement("button",{className:d()(yt.a.farmButton,n&&yt.a.active),onClick:function(t){t.stopPropagation(),o(lt())}},r.a.createElement("img",{src:S.a,alt:"food"}))),r.a.createElement(Gt,{chickens:i,isOpen:e}))},Ft=n(31),Pt=n.n(Ft),Qt=function(t){var e=t.resizedWidth,n=t.resizedHeight,i=t.chickens,a=t.toggleDragging,s=t.dropFood,A=Object(o.useRef)(null),c=Object(o.useRef)(0);return Object(o.useEffect)(function(){!function(t){var e=t.canvasRef,n=t.resizedWidth,i=t.resizedHeight,o=t.chickens,r=t.animationIdRef;if(e.current){var a=e.current.getContext("2d");if(a){var s=0;a.imageSmoothingEnabled=!1,window.cancelAnimationFrame(r.current);!function t(){window.cancelAnimationFrame(r.current),++s<15?r.current=window.requestAnimationFrame(t):(s=0,a.clearRect(0,0,n,i),o.forEach(function(t){t.update(a)}),r.current=window.requestAnimationFrame(t))}()}}}({canvasRef:A,resizedWidth:e,resizedHeight:n,animationIdRef:c,chickens:i})},[e,n,c,i]),r.a.createElement("canvas",{ref:A,width:e,height:n,className:Pt.a.canvas,onMouseDown:a,onMouseUp:function(t){s(t),a()},onMouseMove:s})},Nt=function(t,e){return Math.sqrt(Math.pow(Math.abs(t.left-e.left),2)+Math.pow(Math.abs(t.top-e.top),2))};function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}var xt=u()(function(t){var e=t.imgs,n=t.left,i=t.top;(0,t.addFood)(new It({imgs:e,top:Math.round(i/2),left:Math.round(n/2)}))},100,{leading:!0,trailing:!1}),Rt=function(t){if(t.length){var e=t.map(function(t){return t.getSavingState()});!function(t,e){try{window.localStorage.setItem(t,JSON.stringify(e))}catch(n){console.error("Not possible to set item",t,"in local storage")}}(it.chickens,e)}},Ut=Object(o.memo)(function(){var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=Object(o.useState)({width:window.innerWidth,height:window.innerHeight}),n=Object(c.a)(e,2),i=n[0],r=i.width,a=i.height,s=n[1];return Object(o.useEffect)(function(){var t=p()(function(){s({width:window.innerWidth,height:window.innerHeight})},500,{trailing:!0,leading:!1});return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}},[]),{resizedWidth:r/t,resizedHeight:a/t}}(2),e=t.resizedWidth,n=t.resizedHeight,i=Object(o.useReducer)(bt,wt),a=Object(c.a)(i,2),s=a[0],g=s.isDragging,u=s.isFeeding,h=s.isInfoOpen,f=s.objects,m=s.chickens,w=s.food,b=a[1],v=Object(o.useState)([]),I=Object(c.a)(v,2),k=I[0],M=I[1],E=function(t){return b(function(t){return{type:gt.addFood,payload:{food:t}}}(t))},j=function(t){return b(function(t){return{type:gt.removeFood,payload:{id:t}}}(t))},y=function(t){var e=w.filter(function(e){return e.isAvailable()&&Nt(t,e)<150});if(e.length)return function(t){var e,n=t.items,i=t.left,o=t.top,r=1/0;return n.forEach(function(t){var n=Nt({left:i,top:o},t);n<r&&(r=n,e=t)}),e}(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(n,!0).forEach(function(e){Object(A.a)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({items:e},t))};m.forEach(function(t){t.setFoodMethods(j,y)});var O=Object(o.useCallback)(function(t){t.persist(),u&&k.length&&g&&xt({left:t.clientX,top:t.clientY,imgs:k,addFood:E})},[u,k,g]);return Object(o.useEffect)(function(){var t=function(t){"Escape"===t.code&&u&&b(lt())};return document.addEventListener("keydown",t),function(){document.removeEventListener("keydown",t)}},[u]),Object(o.useEffect)(function(){Promise.all([ht(),dt(e,n),ut()]).then(function(t){var e=Object(c.a)(t,3),n=e[0],i=e[1],o=e[2];b(function(t){return{type:gt.setObjects,payload:{objects:t}}}(n)),b(function(t){return{type:gt.setChickens,payload:{chickens:t}}}(i)),M(o)})},[e,n]),Object(o.useEffect)(function(){var t=setInterval(function(){return Rt(m)},5e3);return function(){Rt(m),clearInterval(t)}},[m]),r.a.createElement("div",{className:d()(l.a.wrapper,u&&l.a.feeding)},r.a.createElement("div",{className:l.a.bg}),r.a.createElement(Et,{resizedWidth:e,resizedHeight:n,objects:f,food:w}),r.a.createElement(Qt,{resizedWidth:e,resizedHeight:n,chickens:m,toggleDragging:function(){return b({type:gt.toggleDragging})},dropFood:O}),r.a.createElement(Ct,{isInfoOpen:h,isFeeding:u,chickens:m,dispatch:b}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(Ut,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}],[[33,1,2]]]);
//# sourceMappingURL=main.68ffebda.chunk.js.map